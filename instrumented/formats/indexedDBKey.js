function cov_1a51c66cem(){var path="/Users/brett/jsoe/src/formats/indexedDBKey.js";var hash="7588487493c81a4d1af668f93970ed8565fccf31";var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"/Users/brett/jsoe/src/formats/indexedDBKey.js",statementMap:{"0":{start:{line:4,column:21},end:{line:48,column:1}},"1":{start:{line:5,column:15},end:{line:8,column:3}},"2":{start:{line:11,column:4},end:{line:27,column:5}},"3":{start:{line:17,column:6},end:{line:17,column:65}},"4":{start:{line:19,column:6},end:{line:22,column:15}},"5":{start:{line:30,column:4},end:{line:30,column:58}},"6":{start:{line:33,column:4},end:{line:33,column:37}},"7":{start:{line:34,column:4},end:{line:34,column:56}},"8":{start:{line:38,column:4},end:{line:43,column:5}},"9":{start:{line:39,column:6},end:{line:42,column:8}},"10":{start:{line:55,column:30},end:{line:61,column:2}}},fnMap:{"0":{name:"(anonymous_0)",decl:{start:{line:5,column:9},end:{line:5,column:10}},loc:{start:{line:5,column:15},end:{line:8,column:3}},line:5},"1":{name:"(anonymous_1)",decl:{start:{line:10,column:2},end:{line:10,column:3}},loc:{start:{line:10,column:31},end:{line:28,column:3}},line:10},"2":{name:"(anonymous_2)",decl:{start:{line:29,column:2},end:{line:29,column:3}},loc:{start:{line:29,column:35},end:{line:31,column:3}},line:29},"3":{name:"(anonymous_3)",decl:{start:{line:32,column:2},end:{line:32,column:3}},loc:{start:{line:32,column:30},end:{line:35,column:3}},line:32},"4":{name:"(anonymous_4)",decl:{start:{line:36,column:2},end:{line:36,column:3}},loc:{start:{line:36,column:44},end:{line:47,column:3}},line:36}},branchMap:{"0":{loc:{start:{line:11,column:4},end:{line:27,column:5}},type:"switch",locations:[{start:{line:16,column:4},end:{line:17,column:65}},{start:{line:18,column:4},end:{line:22,column:15}}],line:11},"1":{loc:{start:{line:38,column:4},end:{line:43,column:5}},type:"if",locations:[{start:{line:38,column:4},end:{line:43,column:5}}],line:38},"2":{loc:{start:{line:38,column:8},end:{line:38,column:43}},type:"binary-expr",locations:[{start:{line:38,column:8},end:{line:38,column:14}},{start:{line:38,column:18},end:{line:38,column:43}}],line:38}},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0},f:{"0":0,"1":0,"2":0,"3":0,"4":0},b:{"0":[0,0],"1":[0],"2":[0,0]},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"7588487493c81a4d1af668f93970ed8565fccf31"};var coverage=global[gcv]||(global[gcv]={});if(!coverage[path]||coverage[path].hash!==hash){coverage[path]=coverageData;}var actualCoverage=coverage[path];{// @ts-ignore
cov_1a51c66cem=function(){return actualCoverage;};}return actualCoverage;}cov_1a51c66cem();import structuredCloning from'./structuredCloning.js';/** @type {import('../formats.js').Format} */const indexedDBKey=(cov_1a51c66cem().s[0]++,{types:()=>{cov_1a51c66cem().f[0]++;cov_1a51c66cem().s[1]++;return['number','SpecialRealNumber','string','ValidDate','array','buffersource'];},// A hack until we simply pass in our own types or do own parsing
testInvalid(newType,value){cov_1a51c66cem().f[1]++;cov_1a51c66cem().s[2]++;switch(newType){/* istanbul ignore next -- Shouldn't occur as it is a preset */case'SpecialRealNumber':/* istanbul ignore next -- Shouldn't occur as it is a preset */return Number.isNaN(value);case'ValidDate':cov_1a51c66cem().b[0][0]++;cov_1a51c66cem().s[3]++;return Number.isNaN(/** @type {Date} */value.getTime());case'array':cov_1a51c66cem().b[0][1]++;cov_1a51c66cem().s[4]++;return Object.keys(value).length!==/** @type {Array<import('../formats.js').StructuredCloneValue>} */value.length;/* istanbul ignore next -- Shouldn't occur */default:/* istanbul ignore next -- Shouldn't occur */return false;// Todo: Should this throw?
}},convertFromTypeson(typesonType){cov_1a51c66cem().f[2]++;cov_1a51c66cem().s[5]++;return{type:typesonToIndexedDBKey.get(typesonType)};},iterate(records,stateObj){cov_1a51c66cem().f[3]++;cov_1a51c66cem().s[6]++;stateObj.format='indexedDBKey';cov_1a51c66cem().s[7]++;return structuredCloning.iterate(records,stateObj);},getTypesAndSchemasForState(types,state){cov_1a51c66cem().f[4]++;cov_1a51c66cem().s[8]++;/* istanbul ignore else -- See below */if((cov_1a51c66cem().b[2][0]++,!state)||(cov_1a51c66cem().b[2][1]++,['array'].includes(state))){cov_1a51c66cem().b[1][0]++;cov_1a51c66cem().s[9]++;return{types:this.types(),schemaObjects:[]};}else{}// eslint-disable-next-line @stylistic/max-len -- Long
/* istanbul ignore next -- Can't be object, so shouldn't normally reach here */return undefined;}});/**
 * @type {Map<import('../types.js').AvailableType,
*   import('../types.js').AvailableType>
* }
*/const typesonToIndexedDBKey=(cov_1a51c66cem().s[10]++,new Map([// This shouldn't occur as it is a preset
['SpecialNumber','SpecialRealNumber'],['date','ValidDate'],// 'sparseArrays', 'array',
['arrayNonindexKeys','array']]));export default indexedDBKey;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJjb3ZfMWE1MWM2NmNlbSIsImFjdHVhbENvdmVyYWdlIiwic3RydWN0dXJlZENsb25pbmciLCJpbmRleGVkREJLZXkiLCJzIiwidHlwZXMiLCJmIiwidGVzdEludmFsaWQiLCJuZXdUeXBlIiwidmFsdWUiLCJOdW1iZXIiLCJpc05hTiIsImIiLCJnZXRUaW1lIiwiT2JqZWN0Iiwia2V5cyIsImxlbmd0aCIsImNvbnZlcnRGcm9tVHlwZXNvbiIsInR5cGVzb25UeXBlIiwidHlwZSIsInR5cGVzb25Ub0luZGV4ZWREQktleSIsImdldCIsIml0ZXJhdGUiLCJyZWNvcmRzIiwic3RhdGVPYmoiLCJmb3JtYXQiLCJnZXRUeXBlc0FuZFNjaGVtYXNGb3JTdGF0ZSIsInN0YXRlIiwiaW5jbHVkZXMiLCJzY2hlbWFPYmplY3RzIiwidW5kZWZpbmVkIiwiTWFwIl0sInNvdXJjZXMiOlsiaW5kZXhlZERCS2V5LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBzdHJ1Y3R1cmVkQ2xvbmluZyBmcm9tICcuL3N0cnVjdHVyZWRDbG9uaW5nLmpzJztcblxuLyoqIEB0eXBlIHtpbXBvcnQoJy4uL2Zvcm1hdHMuanMnKS5Gb3JtYXR9ICovXG5jb25zdCBpbmRleGVkREJLZXkgPSB7XG4gIHR5cGVzOiAoKSA9PiBbXG4gICAgJ251bWJlcicsICdTcGVjaWFsUmVhbE51bWJlcicsICdzdHJpbmcnLCAnVmFsaWREYXRlJywgJ2FycmF5JyxcbiAgICAnYnVmZmVyc291cmNlJ1xuICBdLFxuICAvLyBBIGhhY2sgdW50aWwgd2Ugc2ltcGx5IHBhc3MgaW4gb3VyIG93biB0eXBlcyBvciBkbyBvd24gcGFyc2luZ1xuICB0ZXN0SW52YWxpZCAobmV3VHlwZSwgdmFsdWUpIHtcbiAgICBzd2l0Y2ggKG5ld1R5cGUpIHtcbiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAtLSBTaG91bGRuJ3Qgb2NjdXIgYXMgaXQgaXMgYSBwcmVzZXQgKi9cbiAgICBjYXNlICdTcGVjaWFsUmVhbE51bWJlcic6XG4gICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAtLSBTaG91bGRuJ3Qgb2NjdXIgYXMgaXQgaXMgYSBwcmVzZXQgKi9cbiAgICAgIHJldHVybiBOdW1iZXIuaXNOYU4odmFsdWUpO1xuICAgIGNhc2UgJ1ZhbGlkRGF0ZSc6XG4gICAgICByZXR1cm4gTnVtYmVyLmlzTmFOKC8qKiBAdHlwZSB7RGF0ZX0gKi8gKHZhbHVlKS5nZXRUaW1lKCkpO1xuICAgIGNhc2UgJ2FycmF5JzpcbiAgICAgIHJldHVybiBPYmplY3Qua2V5cyh2YWx1ZSkubGVuZ3RoICE9PVxuICAgICAgLyoqIEB0eXBlIHtBcnJheTxpbXBvcnQoJy4uL2Zvcm1hdHMuanMnKS5TdHJ1Y3R1cmVkQ2xvbmVWYWx1ZT59ICovIChcbiAgICAgICAgdmFsdWVcbiAgICAgICkubGVuZ3RoO1xuICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0IC0tIFNob3VsZG4ndCBvY2N1ciAqL1xuICAgIGRlZmF1bHQ6XG4gICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAtLSBTaG91bGRuJ3Qgb2NjdXIgKi9cbiAgICAgIHJldHVybiBmYWxzZTsgLy8gVG9kbzogU2hvdWxkIHRoaXMgdGhyb3c/XG4gICAgfVxuICB9LFxuICBjb252ZXJ0RnJvbVR5cGVzb24gKHR5cGVzb25UeXBlKSB7XG4gICAgcmV0dXJuIHt0eXBlOiB0eXBlc29uVG9JbmRleGVkREJLZXkuZ2V0KHR5cGVzb25UeXBlKX07XG4gIH0sXG4gIGl0ZXJhdGUgKHJlY29yZHMsIHN0YXRlT2JqKSB7XG4gICAgc3RhdGVPYmouZm9ybWF0ID0gJ2luZGV4ZWREQktleSc7XG4gICAgcmV0dXJuIHN0cnVjdHVyZWRDbG9uaW5nLml0ZXJhdGUocmVjb3Jkcywgc3RhdGVPYmopO1xuICB9LFxuICBnZXRUeXBlc0FuZFNjaGVtYXNGb3JTdGF0ZSAodHlwZXMsIHN0YXRlKSB7XG4gICAgLyogaXN0YW5idWwgaWdub3JlIGVsc2UgLS0gU2VlIGJlbG93ICovXG4gICAgaWYgKCFzdGF0ZSB8fCBbJ2FycmF5J10uaW5jbHVkZXMoc3RhdGUpKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICB0eXBlczogdGhpcy50eXBlcygpLFxuICAgICAgICBzY2hlbWFPYmplY3RzOiBbXVxuICAgICAgfTtcbiAgICB9XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEBzdHlsaXN0aWMvbWF4LWxlbiAtLSBMb25nXG4gICAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgLS0gQ2FuJ3QgYmUgb2JqZWN0LCBzbyBzaG91bGRuJ3Qgbm9ybWFsbHkgcmVhY2ggaGVyZSAqL1xuICAgIHJldHVybiB1bmRlZmluZWQ7XG4gIH1cbn07XG5cbi8qKlxuICogQHR5cGUge01hcDxpbXBvcnQoJy4uL3R5cGVzLmpzJykuQXZhaWxhYmxlVHlwZSxcbiogICBpbXBvcnQoJy4uL3R5cGVzLmpzJykuQXZhaWxhYmxlVHlwZT5cbiogfVxuKi9cbmNvbnN0IHR5cGVzb25Ub0luZGV4ZWREQktleSA9IG5ldyBNYXAoW1xuICAvLyBUaGlzIHNob3VsZG4ndCBvY2N1ciBhcyBpdCBpcyBhIHByZXNldFxuICBbJ1NwZWNpYWxOdW1iZXInLCAnU3BlY2lhbFJlYWxOdW1iZXInXSxcbiAgWydkYXRlJywgJ1ZhbGlkRGF0ZSddLFxuICAvLyAnc3BhcnNlQXJyYXlzJywgJ2FycmF5JyxcbiAgWydhcnJheU5vbmluZGV4S2V5cycsICdhcnJheSddXG5dKTtcblxuZXhwb3J0IGRlZmF1bHQgaW5kZXhlZERCS2V5O1xuIl0sIm1hcHBpbmdzIjoicWdGQWVZO0FBQUFBLGNBQUEsU0FBQUEsQ0FBQSxTQUFBQyxjQUFBLFdBQUFBLGNBQUEsRUFBQUQsY0FBQSxHQWZaLE1BQU8sQ0FBQUUsaUJBQWlCLEtBQU0sd0JBQXdCLENBRXRELDZDQUNBLEtBQU0sQ0FBQUMsWUFBWSxFQUFBSCxjQUFBLEdBQUFJLENBQUEsTUFBRyxDQUNuQkMsS0FBSyxDQUFFQSxDQUFBLEdBQU0sQ0FBQUwsY0FBQSxHQUFBTSxDQUFBLE1BQUFOLGNBQUEsR0FBQUksQ0FBQSxhQUNYLFFBQVEsQ0FBRSxtQkFBbUIsQ0FBRSxRQUFRLENBQUUsV0FBVyxDQUFFLE9BQU8sQ0FDN0QsY0FBYyxDQUNmLENBQUQsQ0FBQyxDQUNEO0FBQ0FHLFdBQVdBLENBQUVDLE9BQU8sQ0FBRUMsS0FBSyxDQUFFLENBQUFULGNBQUEsR0FBQU0sQ0FBQSxNQUFBTixjQUFBLEdBQUFJLENBQUEsTUFDM0IsT0FBUUksT0FBTyxFQUNmLCtEQUNBLElBQUssbUJBQW1CLENBQ3RCLCtEQUNBLE1BQU8sQ0FBQUUsTUFBTSxDQUFDQyxLQUFLLENBQUNGLEtBQUssQ0FBQyxDQUM1QixJQUFLLFdBQVcsQ0FBQVQsY0FBQSxHQUFBWSxDQUFBLFNBQUFaLGNBQUEsR0FBQUksQ0FBQSxNQUNkLE1BQU8sQ0FBQU0sTUFBTSxDQUFDQyxLQUFLLENBQUMsbUJBQXFCRixLQUFLLENBQUVJLE9BQU8sQ0FBQyxDQUFDLENBQUMsQ0FDNUQsSUFBSyxPQUFPLENBQUFiLGNBQUEsR0FBQVksQ0FBQSxTQUFBWixjQUFBLEdBQUFJLENBQUEsTUFDVixNQUFPLENBQUFVLE1BQU0sQ0FBQ0MsSUFBSSxDQUFDTixLQUFLLENBQUMsQ0FBQ08sTUFBTSxHQUNoQyxrRUFDRVAsS0FBSyxDQUNMTyxNQUFNLENBQ1YsNkNBQ0EsUUFDRSw2Q0FDQSxNQUFPLE1BQUssQ0FBRTtBQUNoQixDQUNGLENBQUMsQ0FDREMsa0JBQWtCQSxDQUFFQyxXQUFXLENBQUUsQ0FBQWxCLGNBQUEsR0FBQU0sQ0FBQSxNQUFBTixjQUFBLEdBQUFJLENBQUEsTUFDL0IsTUFBTyxDQUFDZSxJQUFJLENBQUVDLHFCQUFxQixDQUFDQyxHQUFHLENBQUNILFdBQVcsQ0FBQyxDQUFDLENBQ3ZELENBQUMsQ0FDREksT0FBT0EsQ0FBRUMsT0FBTyxDQUFFQyxRQUFRLENBQUUsQ0FBQXhCLGNBQUEsR0FBQU0sQ0FBQSxNQUFBTixjQUFBLEdBQUFJLENBQUEsTUFDMUJvQixRQUFRLENBQUNDLE1BQU0sQ0FBRyxjQUFjLENBQUN6QixjQUFBLEdBQUFJLENBQUEsTUFDakMsTUFBTyxDQUFBRixpQkFBaUIsQ0FBQ29CLE9BQU8sQ0FBQ0MsT0FBTyxDQUFFQyxRQUFRLENBQUMsQ0FDckQsQ0FBQyxDQUNERSwwQkFBMEJBLENBQUVyQixLQUFLLENBQUVzQixLQUFLLENBQUUsQ0FBQTNCLGNBQUEsR0FBQU0sQ0FBQSxNQUFBTixjQUFBLEdBQUFJLENBQUEsTUFDeEMsdUNBQ0EsR0FBSSxDQUFBSixjQUFBLEdBQUFZLENBQUEsVUFBQ2UsS0FBSyxJQUFBM0IsY0FBQSxHQUFBWSxDQUFBLFNBQUksQ0FBQyxPQUFPLENBQUMsQ0FBQ2dCLFFBQVEsQ0FBQ0QsS0FBSyxDQUFDLEVBQUUsQ0FBQTNCLGNBQUEsR0FBQVksQ0FBQSxTQUFBWixjQUFBLEdBQUFJLENBQUEsTUFDdkMsTUFBTyxDQUNMQyxLQUFLLENBQUUsSUFBSSxDQUFDQSxLQUFLLENBQUMsQ0FBQyxDQUNuQndCLGFBQWEsQ0FBRSxFQUNqQixDQUFDLENBQ0gsQ0FBQyxNQUNEO0FBQ0EsK0VBQ0EsTUFBTyxDQUFBQyxTQUFTLENBQ2xCLENBQ0YsQ0FBQyxFQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFDQSxLQUFNLENBQUFWLHFCQUFxQixFQUFBcEIsY0FBQSxHQUFBSSxDQUFBLE9BQUcsR0FBSSxDQUFBMkIsR0FBRyxDQUFDLENBQ3BDO0FBQ0EsQ0FBQyxlQUFlLENBQUUsbUJBQW1CLENBQUMsQ0FDdEMsQ0FBQyxNQUFNLENBQUUsV0FBVyxDQUFDLENBQ3JCO0FBQ0EsQ0FBQyxtQkFBbUIsQ0FBRSxPQUFPLENBQUMsQ0FDL0IsQ0FBQyxFQUVGLGNBQWUsQ0FBQTVCLFlBQVkiLCJpZ25vcmVMaXN0IjpbXX0=