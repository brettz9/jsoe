function cov_46dnclk9m(){var path="/Users/brett/jsoe/src/typeChoices.js";var hash="eaf2ace2ea9802872c47255182aa0b52e59437ea";var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"/Users/brett/jsoe/src/typeChoices.js",statementMap:{"0":{start:{line:97,column:32},end:{line:379,column:1}},"1":{start:{line:115,column:28},end:{line:121,column:5}},"2":{start:{line:122,column:24},end:{line:122,column:41}},"3":{start:{line:123,column:21},end:{line:123,column:52}},"4":{start:{line:128,column:20},end:{line:143,column:3}},"5":{start:{line:130,column:6},end:{line:130,column:41}},"6":{start:{line:132,column:4},end:{line:142,column:6}},"7":{start:{line:144,column:48},end:{line:289,column:4}},"8":{start:{line:155,column:8},end:{line:155,column:26}},"9":{start:{line:156,column:8},end:{line:156,column:26}},"10":{start:{line:157,column:8},end:{line:157,column:64}},"11":{start:{line:163,column:8},end:{line:163,column:26}},"12":{start:{line:164,column:8},end:{line:164,column:26}},"13":{start:{line:169,column:30},end:{line:169,column:34}},"14":{start:{line:170,column:8},end:{line:170,column:33}},"15":{start:{line:171,column:22},end:{line:171,column:40}},"16":{start:{line:172,column:8},end:{line:177,column:9}},"17":{start:{line:173,column:10},end:{line:173,column:36}},"18":{start:{line:174,column:10},end:{line:176,column:13}},"19":{start:{line:175,column:12},end:{line:175,column:39}},"20":{start:{line:180,column:26},end:{line:180,column:46}},"21":{start:{line:182,column:8},end:{line:184,column:9}},"22":{start:{line:185,column:8},end:{line:185,column:47}},"23":{start:{line:192,column:30},end:{line:192,column:34}},"24":{start:{line:194,column:8},end:{line:196,column:9}},"25":{start:{line:195,column:10},end:{line:195,column:17}},"26":{start:{line:197,column:22},end:{line:197,column:40}},"27":{start:{line:203,column:8},end:{line:215,column:11}},"28":{start:{line:216,column:8},end:{line:216,column:34}},"29":{start:{line:217,column:8},end:{line:217,column:25}},"30":{start:{line:218,column:8},end:{line:218,column:37}},"31":{start:{line:220,column:8},end:{line:220,column:47}},"32":{start:{line:225,column:8},end:{line:225,column:38}},"33":{start:{line:226,column:8},end:{line:226,column:34}},"34":{start:{line:232,column:26},end:{line:232,column:46}},"35":{start:{line:233,column:8},end:{line:233,column:38}},"36":{start:{line:234,column:8},end:{line:234,column:31}},"37":{start:{line:237,column:8},end:{line:237,column:39}},"38":{start:{line:240,column:8},end:{line:240,column:46}},"39":{start:{line:246,column:30},end:{line:246,column:34}},"40":{start:{line:247,column:26},end:{line:247,column:46}},"41":{start:{line:248,column:8},end:{line:250,column:9}},"42":{start:{line:249,column:10},end:{line:249,column:23}},"43":{start:{line:251,column:23},end:{line:251,column:50}},"44":{start:{line:252,column:8},end:{line:254,column:11}},"45":{start:{line:260,column:6},end:{line:260,column:27}},"46":{start:{line:261,column:43},end:{line:268,column:9}},"47":{start:{line:269,column:43},end:{line:269,column:63}},"48":{start:{line:279,column:8},end:{line:286,column:10}},"49":{start:{line:290,column:2},end:{line:335,column:3}},"50":{start:{line:291,column:4},end:{line:294,column:7}},"51":{start:{line:292,column:6},end:{line:292,column:28}},"52":{start:{line:293,column:6},end:{line:293,column:45}},"53":{start:{line:295,column:9},end:{line:335,column:3}},"54":{start:{line:296,column:4},end:{line:334,column:7}},"55":{start:{line:297,column:6},end:{line:302,column:7}},"56":{start:{line:301,column:8},end:{line:301,column:19}},"57":{start:{line:303,column:6},end:{line:333,column:7}},"58":{start:{line:304,column:27},end:{line:316,column:9}},"59":{start:{line:318,column:10},end:{line:320,column:12}},"60":{start:{line:322,column:81},end:{line:324,column:56}},"61":{start:{line:337,column:24},end:{line:337,column:60}},"62":{start:{line:339,column:2},end:{line:378,column:4}},"63":{start:{line:351,column:8},end:{line:351,column:43}},"64":{start:{line:353,column:6},end:{line:353,column:40}},"65":{start:{line:359,column:8},end:{line:359,column:43}},"66":{start:{line:361,column:51},end:{line:361,column:71}},"67":{start:{line:362,column:6},end:{line:362,column:57}},"68":{start:{line:368,column:8},end:{line:371,column:9}},"69":{start:{line:373,column:19},end:{line:373,column:51}},"70":{start:{line:374,column:79},end:{line:376,column:54}}},fnMap:{"0":{name:"(anonymous_0)",decl:{start:{line:97,column:32},end:{line:97,column:33}},loc:{start:{line:113,column:6},end:{line:379,column:1}},line:113},"1":{name:"(anonymous_1)",decl:{start:{line:128,column:20},end:{line:128,column:21}},loc:{start:{line:128,column:47},end:{line:143,column:3}},line:128},"2":{name:"(anonymous_2)",decl:{start:{line:154,column:6},end:{line:154,column:7}},loc:{start:{line:154,column:51},end:{line:158,column:7}},line:154},"3":{name:"(anonymous_3)",decl:{start:{line:162,column:6},end:{line:162,column:7}},loc:{start:{line:162,column:32},end:{line:165,column:7}},line:162},"4":{name:"(anonymous_4)",decl:{start:{line:168,column:6},end:{line:168,column:7}},loc:{start:{line:168,column:20},end:{line:178,column:7}},line:168},"5":{name:"(anonymous_5)",decl:{start:{line:174,column:59},end:{line:174,column:60}},loc:{start:{line:174,column:71},end:{line:176,column:11}},line:174},"6":{name:"(anonymous_6)",decl:{start:{line:179,column:6},end:{line:179,column:7}},loc:{start:{line:179,column:22},end:{line:186,column:7}},line:179},"7":{name:"(anonymous_7)",decl:{start:{line:189,column:6},end:{line:189,column:7}},loc:{start:{line:191,column:14},end:{line:221,column:7}},line:191},"8":{name:"(anonymous_8)",decl:{start:{line:224,column:6},end:{line:224,column:7}},loc:{start:{line:224,column:41},end:{line:227,column:7}},line:224},"9":{name:"(anonymous_9)",decl:{start:{line:231,column:6},end:{line:231,column:7}},loc:{start:{line:231,column:28},end:{line:235,column:7}},line:231},"10":{name:"(anonymous_10)",decl:{start:{line:236,column:6},end:{line:236,column:7}},loc:{start:{line:236,column:23},end:{line:238,column:7}},line:236},"11":{name:"(anonymous_11)",decl:{start:{line:239,column:6},end:{line:239,column:7}},loc:{start:{line:239,column:21},end:{line:241,column:7}},line:239},"12":{name:"(anonymous_12)",decl:{start:{line:245,column:6},end:{line:245,column:7}},loc:{start:{line:245,column:19},end:{line:255,column:7}},line:245},"13":{name:"(anonymous_13)",decl:{start:{line:257,column:10},end:{line:257,column:11}},loc:{start:{line:257,column:21},end:{line:270,column:5}},line:257},"14":{name:"(anonymous_14)",decl:{start:{line:278,column:6},end:{line:278,column:7}},loc:{start:{line:278,column:35},end:{line:287,column:7}},line:278},"15":{name:"(anonymous_15)",decl:{start:{line:291,column:15},end:{line:291,column:16}},loc:{start:{line:291,column:21},end:{line:294,column:5}},line:291},"16":{name:"(anonymous_16)",decl:{start:{line:296,column:15},end:{line:296,column:16}},loc:{start:{line:296,column:27},end:{line:334,column:5}},line:296},"17":{name:"(anonymous_17)",decl:{start:{line:349,column:4},end:{line:349,column:5}},loc:{start:{line:349,column:15},end:{line:354,column:5}},line:349},"18":{name:"(anonymous_18)",decl:{start:{line:357,column:4},end:{line:357,column:5}},loc:{start:{line:357,column:22},end:{line:363,column:5}},line:357},"19":{name:"(anonymous_19)",decl:{start:{line:366,column:4},end:{line:366,column:5}},loc:{start:{line:366,column:37},end:{line:377,column:5}},line:366}},branchMap:{"0":{loc:{start:{line:101,column:2},end:{line:101,column:18}},type:"default-arg",locations:[{start:{line:101,column:13},end:{line:101,column:18}}],line:101},"1":{loc:{start:{line:108,column:2},end:{line:108,column:25}},type:"default-arg",locations:[{start:{line:108,column:12},end:{line:108,column:25}}],line:108},"2":{loc:{start:{line:109,column:2},end:{line:109,column:21}},type:"default-arg",locations:[{start:{line:109,column:10},end:{line:109,column:21}}],line:109},"3":{loc:{start:{line:115,column:28},end:{line:121,column:5}},type:"cond-expr",locations:[{start:{line:116,column:6},end:{line:118,column:5}},{start:{line:119,column:6},end:{line:121,column:5}}],line:115},"4":{loc:{start:{line:145,column:12},end:{line:145,column:53}},type:"binary-expr",locations:[{start:{line:145,column:12},end:{line:145,column:25}},{start:{line:145,column:29},end:{line:145,column:53}}],line:145},"5":{loc:{start:{line:146,column:42},end:{line:148,column:10}},type:"cond-expr",locations:[{start:{line:147,column:8},end:{line:147,column:28}},{start:{line:148,column:8},end:{line:148,column:10}}],line:146},"6":{loc:{start:{line:172,column:8},end:{line:177,column:9}},type:"if",locations:[{start:{line:172,column:8},end:{line:177,column:9}},{start:{line:undefined,column:undefined},end:{line:undefined,column:undefined}}],line:172},"7":{loc:{start:{line:182,column:8},end:{line:184,column:9}},type:"if",locations:[{start:{line:undefined,column:undefined},end:{line:undefined,column:undefined}}],line:182},"8":{loc:{start:{line:189,column:29},end:{line:191,column:12}},type:"default-arg",locations:[{start:{line:191,column:10},end:{line:191,column:12}}],line:189},"9":{loc:{start:{line:194,column:8},end:{line:196,column:9}},type:"if",locations:[{start:{line:194,column:8},end:{line:196,column:9}},{start:{line:undefined,column:undefined},end:{line:undefined,column:undefined}}],line:194},"10":{loc:{start:{line:208,column:20},end:{line:208,column:61}},type:"binary-expr",locations:[{start:{line:208,column:20},end:{line:208,column:48}},{start:{line:208,column:52},end:{line:208,column:61}}],line:208},"11":{loc:{start:{line:213,column:25},end:{line:213,column:56}},type:"binary-expr",locations:[{start:{line:213,column:25},end:{line:213,column:39}},{start:{line:213,column:43},end:{line:213,column:56}}],line:213},"12":{loc:{start:{line:240,column:15},end:{line:240,column:45}},type:"binary-expr",locations:[{start:{line:240,column:15},end:{line:240,column:22}},{start:{line:240,column:26},end:{line:240,column:45}}],line:240},"13":{loc:{start:{line:248,column:8},end:{line:250,column:9}},type:"if",locations:[{start:{line:248,column:8},end:{line:250,column:9}},{start:{line:undefined,column:undefined},end:{line:undefined,column:undefined}}],line:248},"14":{loc:{start:{line:262,column:22},end:{line:267,column:21}},type:"cond-expr",locations:[{start:{line:263,column:12},end:{line:266,column:12}},{start:{line:267,column:12},end:{line:267,column:21}}],line:262},"15":{loc:{start:{line:283,column:21},end:{line:283,column:44}},type:"cond-expr",locations:[{start:{line:283,column:34},end:{line:283,column:39}},{start:{line:283,column:42},end:{line:283,column:44}}],line:283},"16":{loc:{start:{line:290,column:2},end:{line:335,column:3}},type:"if",locations:[{start:{line:290,column:2},end:{line:335,column:3}},{start:{line:295,column:9},end:{line:335,column:3}}],line:290},"17":{loc:{start:{line:295,column:9},end:{line:335,column:3}},type:"if",locations:[{start:{line:295,column:9},end:{line:335,column:3}},{start:{line:undefined,column:undefined},end:{line:undefined,column:undefined}}],line:295},"18":{loc:{start:{line:295,column:13},end:{line:295,column:59}},type:"binary-expr",locations:[{start:{line:295,column:13},end:{line:295,column:21}},{start:{line:295,column:26},end:{line:295,column:39}},{start:{line:295,column:43},end:{line:295,column:58}}],line:295},"19":{loc:{start:{line:297,column:6},end:{line:302,column:7}},type:"if",locations:[{start:{line:297,column:6},end:{line:302,column:7}},{start:{line:undefined,column:undefined},end:{line:undefined,column:undefined}}],line:297}},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0,"54":0,"55":0,"56":0,"57":0,"58":0,"59":0,"60":0,"61":0,"62":0,"63":0,"64":0,"65":0,"66":0,"67":0,"68":0,"69":0,"70":0},f:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0},b:{"0":[0],"1":[0],"2":[0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0],"8":[0],"9":[0,0],"10":[0,0],"11":[0,0],"12":[0,0],"13":[0,0],"14":[0,0],"15":[0,0],"16":[0,0],"17":[0,0],"18":[0,0,0],"19":[0,0]},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"eaf2ace2ea9802872c47255182aa0b52e59437ea"};var coverage=global[gcv]||(global[gcv]={});if(!coverage[path]||coverage[path].hash!==hash){coverage[path]=coverageData;}var actualCoverage=coverage[path];{// @ts-ignore
cov_46dnclk9m=function(){return actualCoverage;};}return actualCoverage;}cov_46dnclk9m();import{jml}from'./vendor-imports.js';import Formats from'./formats.js';import Types from'./types.js';import{$e,DOM}from'./utils/templateUtils.js';import dialogs from'./utils/dialogs.js';// This is technically just `import('./index.js').SetType`, but our
//   redirect file causes problems, so we redefine here
/**
 * @typedef {(cfg: {
 *   type: string,
 *   baseValue?: import('./formats.js').StructuredCloneValue,
 *   bringIntoFocus?: boolean
 * }) => void} SetType
 */ /**
 * @typedef {(info: {type: string, editUI: Element}) => void} AddTypeAndEditUI
 */ /**
 * @typedef {(info?: {
 *   baseValue?: import('./formats.js').StructuredCloneValue,
 *   bringIntoFocus?: boolean,
 *   schemaObject?: import('./formatAndTypeChoices.js').ZodexSchema
 * }) => void} AddAndValidateEditUI
 */ /**
 * @typedef {() => void} SetStyles
 */ /**
 * @typedef {HTMLElement & {
 *   $addAndValidateEditUI: AddAndValidateEditUI,
 *   $setStyles: SetStyles
 * }} TypeChoicesElementAPI
 */ /**
 * @callback GetValue
 * @param {import('./types.js').StateObject} [stateObj] Will
 *   auto-set `typeNamespace` and `format`
 * @param {string} [currentPath]
 * @returns {import('./formats.js').StructuredCloneValue}
 */ /**
 * @callback GetType
 * @returns {string}
 */ /**
 * @callback ValidValuesSet
 * @returns {boolean}
 */ /**
 * @callback SetValue
 * @param {import('./formats.js').StructuredCloneValue} value
 * @param {import('./types.js').StateObject} stateObj
 * @returns {Promise<void>}
 */ /**
 * @callback BuildTypeChoices
 * @param {{
 *   format: import('./formats.js').AvailableFormat,
 *   typeNamespace?: string,
 *   value?: import('./formats.js').StructuredCloneValue,
 *   setValue?: boolean,
 *   state?: string,
 *   arrayState?: string,
 *   keySelectClass?: string,
 *   requireObject?: boolean,
 *   objectHasValue?: boolean,
 *   topRoot?: import('./types.js').RootElement,
 *   formats?: import('./formats.js').default
 *   types?: import('./types.js').default
 *   schema?: string,
 *   schemaOriginal?: import('./formatAndTypeChoices.js').ZodexSchema,
 *   schemaContent?: import('./formatAndTypeChoices.js').ZodexSchema,
 * }} cfg
 * @returns {{
 *   domArray: [select: HTMLElement, typeContainer: HTMLElement],
 *   getValue: GetValue,
 *   getType: GetType,
 *   validValuesSet: ValidValuesSet,
 *   setValue: SetValue
 * }}
 */ /**
 * @type {BuildTypeChoices}
 */cov_46dnclk9m().s[0]++;export const buildTypeChoices=({format,typeNamespace,value,setValue=(cov_46dnclk9m().b[0][0]++,false),state,// itemIndex = 0,
keySelectClass,requireObject,objectHasValue,topRoot,formats=(cov_46dnclk9m().b[1][0]++,new Formats()),types=(cov_46dnclk9m().b[2][0]++,new Types()),schema,schemaOriginal,schemaContent})=>{cov_46dnclk9m().f[0]++;// console.log('format', format, 'state', state, 'path', typeNamespace);
const typeAndSchemaInfo=(cov_46dnclk9m().s[1]++,requireObject?(cov_46dnclk9m().b[3][0]++,{typeOptions:[types.getOptionForType('object')],schemaObjects:undefined}):(cov_46dnclk9m().b[3][1]++,types.getTypeOptionsForFormatAndState(format,state,schemaContent,schemaOriginal)));const{typeOptions}=(cov_46dnclk9m().s[2]++,typeAndSchemaInfo);const schemaObjs=(cov_46dnclk9m().s[3]++,typeAndSchemaInfo.schemaObjects);let editUI;/** @type {GetValue} */cov_46dnclk9m().s[4]++;const $getValue=(stateObj,currentPath)=>{cov_46dnclk9m().f[1]++;const root=(/** @type {HTMLDivElement} */cov_46dnclk9m().s[5]++,$e(typeContainer,'div[data-type]'));cov_46dnclk9m().s[6]++;return types.getValueForRoot(root,/** @type {import('./types.js').StateObject} */{typeNamespace,formats,format,types,...stateObj},currentPath);};const sel=(/** @type {HTMLSelectElement} */cov_46dnclk9m().s[7]++,jml('select',{hidden:(cov_46dnclk9m().b[4][0]++,requireObject)||(cov_46dnclk9m().b[4][1]++,typeOptions.length===1),class:`typeChoices-${typeNamespace}${keySelectClass?(cov_46dnclk9m().b[5][0]++,' '+keySelectClass):(cov_46dnclk9m().b[5][1]++,'')}`,// is: 'type-choices',
$custom:{$getValue,/** @type {SetType} */$setType({type,baseValue,bringIntoFocus}){cov_46dnclk9m().f[2]++;cov_46dnclk9m().s[8]++;this.value=type;cov_46dnclk9m().s[9]++;this.$setStyles();cov_46dnclk9m().s[10]++;this.$addAndValidateEditUI({baseValue,bringIntoFocus});},/**
       * @type {(info: {type: string}) => void} cfg
       */$setTypeNoEditUI({type}){cov_46dnclk9m().f[3]++;cov_46dnclk9m().s[11]++;this.value=type;cov_46dnclk9m().s[12]++;this.$setStyles();},/** @type {SetStyles} */$setStyles(){cov_46dnclk9m().f[4]++;const{value:type}=(cov_46dnclk9m().s[13]++,this);cov_46dnclk9m().s[14]++;this.dataset.type=type;// Used for styling
const parEl=(cov_46dnclk9m().s[15]++,this.parentElement);cov_46dnclk9m().s[16]++;if(parEl.nodeName.toLowerCase()==='fieldset'){cov_46dnclk9m().b[6][0]++;cov_46dnclk9m().s[17]++;parEl.dataset.type=type;cov_46dnclk9m().s[18]++;DOM.filterChildElements(parEl,'legend').forEach(legend=>{cov_46dnclk9m().f[5]++;cov_46dnclk9m().s[19]++;legend.dataset.type=type;});}else{cov_46dnclk9m().b[6][1]++;}},$getTypeRoot(){cov_46dnclk9m().f[6]++;const container=(cov_46dnclk9m().s[20]++,this.$getContainer());/* istanbul ignore if -- How to replicate? */cov_46dnclk9m().s[21]++;if(!container){return false;}else{cov_46dnclk9m().b[7][0]++;}cov_46dnclk9m().s[22]++;return $e(container,'div[data-type]');},/** @type {AddAndValidateEditUI} */$addAndValidateEditUI({baseValue,bringIntoFocus,schemaObject}=(cov_46dnclk9m().b[8][0]++,{})){cov_46dnclk9m().f[7]++;const{value:type}=(cov_46dnclk9m().s[23]++,this);cov_46dnclk9m().s[24]++;if(!type){cov_46dnclk9m().b[9][0]++;cov_46dnclk9m().s[25]++;return;}else{cov_46dnclk9m().b[9][1]++;}let topRoot=(cov_46dnclk9m().s[26]++,this.$getTopRoot());// Todo (low): Try to avoid need for `baseValue`
//    (needed by arrayNonindexKeys for setting an array
//    length and avoiding errors); could set all
//    values through here?
cov_46dnclk9m().s[27]++;editUI=types.getUIForModeAndType({readonly:false,typeNamespace,type,bringIntoFocus,hasValue:(cov_46dnclk9m().b[10][0]++,type==='arrayNonindexKeys')&&(cov_46dnclk9m().b[10][1]++,baseValue),value:baseValue,buildTypeChoices,format,topRoot,schemaContent:(cov_46dnclk9m().b[11][0]++,schemaOriginal)??(cov_46dnclk9m().b[11][1]++,schemaContent),specificSchemaObject:schemaObject});cov_46dnclk9m().s[28]++;this.$addEditUI({editUI});cov_46dnclk9m().s[29]++;this.$validate();cov_46dnclk9m().s[30]++;topRoot=this.$getTopRoot();// May be existing now
// Needed; Array/object ref somewhere could now be valid or invalid
cov_46dnclk9m().s[31]++;types.validateAllReferences({topRoot});},/** @type {AddTypeAndEditUI} */$addTypeAndEditUI({type,editUI}){cov_46dnclk9m().f[8]++;cov_46dnclk9m().s[32]++;this.$setTypeNoEditUI({type});cov_46dnclk9m().s[33]++;this.$addEditUI({editUI});},/**
       * @type {(info: {editUI: HTMLElement}) => void}
       */$addEditUI({editUI}){cov_46dnclk9m().f[9]++;const container=(cov_46dnclk9m().s[34]++,this.$getContainer());cov_46dnclk9m().s[35]++;DOM.removeChildren(container);cov_46dnclk9m().s[36]++;jml(editUI,container);},$getContainer(){cov_46dnclk9m().f[10]++;cov_46dnclk9m().s[37]++;return this.nextElementSibling;},$getTopRoot(){cov_46dnclk9m().f[11]++;cov_46dnclk9m().s[38]++;return(cov_46dnclk9m().b[12][0]++,topRoot)||(cov_46dnclk9m().b[12][1]++,this.$getTypeRoot());},/**
       * @returns {boolean}
       */$validate(){cov_46dnclk9m().f[12]++;const{value:type}=(cov_46dnclk9m().s[39]++,this);const container=(cov_46dnclk9m().s[40]++,this.$getContainer());cov_46dnclk9m().s[41]++;if(!container.firstElementChild){cov_46dnclk9m().b[13][0]++;cov_46dnclk9m().s[42]++;return false;}else{cov_46dnclk9m().b[13][1]++;}const editUI=(cov_46dnclk9m().s[43]++,container.firstElementChild);cov_46dnclk9m().s[44]++;return types.validate({type,root:editUI,topRoot:this.$getTopRoot()});}},$on:{change(e){cov_46dnclk9m().f[13]++;cov_46dnclk9m().s[45]++;// We don't want form `onchange` to run `$checkForKeyDuplicates`
//   again (through `addAndValidateEditUI`->`validateAllReferences`)
e?.stopPropagation();/** @type {TypeChoicesElementAPI} */cov_46dnclk9m().s[46]++;this.$addAndValidateEditUI({schemaObject:schemaObjs?(cov_46dnclk9m().b[14][0]++,schemaObjs[Number(/** @type {HTMLSelectElement} */e.target.selectedOptions[0].dataset.idx)]):(cov_46dnclk9m().b[14][1]++,undefined)});/** @type {TypeChoicesElementAPI} */cov_46dnclk9m().s[47]++;this.$setStyles();}}},[['option',{value:''},['(Choose a type)']],// @ts-expect-error Apparent TS bug
...typeOptions.map(([optText,optAtts],idx)=>{cov_46dnclk9m().f[14]++;cov_46dnclk9m().s[48]++;return['option',{...optAtts,dataset:schemaObjs?(cov_46dnclk9m().b[15][0]++,{idx}):(cov_46dnclk9m().b[15][1]++,{})},[optText]];})]));cov_46dnclk9m().s[49]++;if(typeOptions.length===1){cov_46dnclk9m().b[16][0]++;cov_46dnclk9m().s[50]++;setTimeout(()=>{cov_46dnclk9m().f[15]++;cov_46dnclk9m().s[51]++;sel.selectedIndex=1;cov_46dnclk9m().s[52]++;sel.dispatchEvent(new Event('change'));});}else{cov_46dnclk9m().b[16][1]++;cov_46dnclk9m().s[53]++;if((cov_46dnclk9m().b[18][0]++,setValue)||(cov_46dnclk9m().b[18][1]++,requireObject)&&(cov_46dnclk9m().b[18][2]++,!objectHasValue)){cov_46dnclk9m().b[17][0]++;cov_46dnclk9m().s[54]++;setTimeout(async()=>{cov_46dnclk9m().f[16]++;cov_46dnclk9m().s[55]++;if(!setValue){cov_46dnclk9m().b[19][0]++;cov_46dnclk9m().s[56]++;// if (requireObject && !objectHasValue) {
// Todo (low): We could auto-populate keypath if has
//   keypath (and we probably also only want if
//   not autoincrement)
value={};}else{cov_46dnclk9m().b[19][1]++;}cov_46dnclk9m().s[57]++;try{const rootEditUI=(cov_46dnclk9m().s[58]++,await formats.getControlsForFormatAndValue(types,format,value,{readonly:false,typeNamespace,schema,schemaContent,formats,types}));const type=(cov_46dnclk9m().s[59]++,Types.getTypeForRoot(/** @type {HTMLDivElement} */rootEditUI));// eslint-disable-next-line @stylistic/max-len -- Long
/** @type {HTMLSelectElement & {$addTypeAndEditUI: AddTypeAndEditUI}} */cov_46dnclk9m().s[60]++;sel.$addTypeAndEditUI({type,editUI:rootEditUI});}catch(err){/* istanbul ignore next -- At least some errors handled earlier */dialogs.alert({message:'The object to be added had types not supported '+'by the current format.'});/* istanbul ignore next -- How to trigger? */console.log('err',err);}});}else{cov_46dnclk9m().b[17][1]++;}}const typeContainer=(cov_46dnclk9m().s[61]++,jml('div',{class:'typeContainer'}));cov_46dnclk9m().s[62]++;return{domArray:[sel,typeContainer],/** @type {GetValue} */getValue:$getValue,/** @type {GetType} */getType(){cov_46dnclk9m().f[17]++;const root=(/** @type {HTMLDivElement} */cov_46dnclk9m().s[63]++,$e(typeContainer,'div[data-type]'));cov_46dnclk9m().s[64]++;return Types.getTypeForRoot(root);},/** @type {ValidValuesSet} */validValuesSet(){cov_46dnclk9m().f[18]++;const root=(/** @type {HTMLDivElement} */cov_46dnclk9m().s[65]++,$e(typeContainer,'div[data-type]'));const form=(/** @type {HTMLFormElement} */cov_46dnclk9m().s[66]++,root.closest('form'));cov_46dnclk9m().s[67]++;return Types.validValuesSet({form,typeNamespace});},/** @type {SetValue} */async setValue(value,stateObj){cov_46dnclk9m().f[19]++;const rootEditUI=(/** @type {HTMLDivElement} */cov_46dnclk9m().s[68]++,await formats.getControlsForFormatAndValue(types,format,value,stateObj));const type=(cov_46dnclk9m().s[69]++,Types.getTypeForRoot(rootEditUI));/** @type {HTMLSelectElement & {$addTypeAndEditUI: AddTypeAndEditUI}} */cov_46dnclk9m().s[70]++;sel.$addTypeAndEditUI({type,editUI:rootEditUI});}};};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJjb3ZfNDZkbmNsazltIiwiYWN0dWFsQ292ZXJhZ2UiLCJqbWwiLCJGb3JtYXRzIiwiVHlwZXMiLCIkZSIsIkRPTSIsImRpYWxvZ3MiLCJzIiwiYnVpbGRUeXBlQ2hvaWNlcyIsImZvcm1hdCIsInR5cGVOYW1lc3BhY2UiLCJ2YWx1ZSIsInNldFZhbHVlIiwiYiIsInN0YXRlIiwia2V5U2VsZWN0Q2xhc3MiLCJyZXF1aXJlT2JqZWN0Iiwib2JqZWN0SGFzVmFsdWUiLCJ0b3BSb290IiwiZm9ybWF0cyIsInR5cGVzIiwic2NoZW1hIiwic2NoZW1hT3JpZ2luYWwiLCJzY2hlbWFDb250ZW50IiwiZiIsInR5cGVBbmRTY2hlbWFJbmZvIiwidHlwZU9wdGlvbnMiLCJnZXRPcHRpb25Gb3JUeXBlIiwic2NoZW1hT2JqZWN0cyIsInVuZGVmaW5lZCIsImdldFR5cGVPcHRpb25zRm9yRm9ybWF0QW5kU3RhdGUiLCJzY2hlbWFPYmpzIiwiZWRpdFVJIiwiJGdldFZhbHVlIiwic3RhdGVPYmoiLCJjdXJyZW50UGF0aCIsInJvb3QiLCJ0eXBlQ29udGFpbmVyIiwiZ2V0VmFsdWVGb3JSb290Iiwic2VsIiwiaGlkZGVuIiwibGVuZ3RoIiwiY2xhc3MiLCIkY3VzdG9tIiwiJHNldFR5cGUiLCJ0eXBlIiwiYmFzZVZhbHVlIiwiYnJpbmdJbnRvRm9jdXMiLCIkc2V0U3R5bGVzIiwiJGFkZEFuZFZhbGlkYXRlRWRpdFVJIiwiJHNldFR5cGVOb0VkaXRVSSIsImRhdGFzZXQiLCJwYXJFbCIsInBhcmVudEVsZW1lbnQiLCJub2RlTmFtZSIsInRvTG93ZXJDYXNlIiwiZmlsdGVyQ2hpbGRFbGVtZW50cyIsImZvckVhY2giLCJsZWdlbmQiLCIkZ2V0VHlwZVJvb3QiLCJjb250YWluZXIiLCIkZ2V0Q29udGFpbmVyIiwic2NoZW1hT2JqZWN0IiwiJGdldFRvcFJvb3QiLCJnZXRVSUZvck1vZGVBbmRUeXBlIiwicmVhZG9ubHkiLCJoYXNWYWx1ZSIsInNwZWNpZmljU2NoZW1hT2JqZWN0IiwiJGFkZEVkaXRVSSIsIiR2YWxpZGF0ZSIsInZhbGlkYXRlQWxsUmVmZXJlbmNlcyIsIiRhZGRUeXBlQW5kRWRpdFVJIiwicmVtb3ZlQ2hpbGRyZW4iLCJuZXh0RWxlbWVudFNpYmxpbmciLCJmaXJzdEVsZW1lbnRDaGlsZCIsInZhbGlkYXRlIiwiJG9uIiwiY2hhbmdlIiwiZSIsInN0b3BQcm9wYWdhdGlvbiIsIk51bWJlciIsInRhcmdldCIsInNlbGVjdGVkT3B0aW9ucyIsImlkeCIsIm1hcCIsIm9wdFRleHQiLCJvcHRBdHRzIiwic2V0VGltZW91dCIsInNlbGVjdGVkSW5kZXgiLCJkaXNwYXRjaEV2ZW50IiwiRXZlbnQiLCJyb290RWRpdFVJIiwiZ2V0Q29udHJvbHNGb3JGb3JtYXRBbmRWYWx1ZSIsImdldFR5cGVGb3JSb290IiwiZXJyIiwiYWxlcnQiLCJtZXNzYWdlIiwiY29uc29sZSIsImxvZyIsImRvbUFycmF5IiwiZ2V0VmFsdWUiLCJnZXRUeXBlIiwidmFsaWRWYWx1ZXNTZXQiLCJmb3JtIiwiY2xvc2VzdCJdLCJzb3VyY2VzIjpbInR5cGVDaG9pY2VzLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7am1sfSBmcm9tICcuL3ZlbmRvci1pbXBvcnRzLmpzJztcbmltcG9ydCBGb3JtYXRzIGZyb20gJy4vZm9ybWF0cy5qcyc7XG5pbXBvcnQgVHlwZXMgZnJvbSAnLi90eXBlcy5qcyc7XG5cbmltcG9ydCB7JGUsIERPTX0gZnJvbSAnLi91dGlscy90ZW1wbGF0ZVV0aWxzLmpzJztcbmltcG9ydCBkaWFsb2dzIGZyb20gJy4vdXRpbHMvZGlhbG9ncy5qcyc7XG5cbi8vIFRoaXMgaXMgdGVjaG5pY2FsbHkganVzdCBgaW1wb3J0KCcuL2luZGV4LmpzJykuU2V0VHlwZWAsIGJ1dCBvdXJcbi8vICAgcmVkaXJlY3QgZmlsZSBjYXVzZXMgcHJvYmxlbXMsIHNvIHdlIHJlZGVmaW5lIGhlcmVcbi8qKlxuICogQHR5cGVkZWYgeyhjZmc6IHtcbiAqICAgdHlwZTogc3RyaW5nLFxuICogICBiYXNlVmFsdWU/OiBpbXBvcnQoJy4vZm9ybWF0cy5qcycpLlN0cnVjdHVyZWRDbG9uZVZhbHVlLFxuICogICBicmluZ0ludG9Gb2N1cz86IGJvb2xlYW5cbiAqIH0pID0+IHZvaWR9IFNldFR5cGVcbiAqL1xuXG4vKipcbiAqIEB0eXBlZGVmIHsoaW5mbzoge3R5cGU6IHN0cmluZywgZWRpdFVJOiBFbGVtZW50fSkgPT4gdm9pZH0gQWRkVHlwZUFuZEVkaXRVSVxuICovXG5cbi8qKlxuICogQHR5cGVkZWYgeyhpbmZvPzoge1xuICogICBiYXNlVmFsdWU/OiBpbXBvcnQoJy4vZm9ybWF0cy5qcycpLlN0cnVjdHVyZWRDbG9uZVZhbHVlLFxuICogICBicmluZ0ludG9Gb2N1cz86IGJvb2xlYW4sXG4gKiAgIHNjaGVtYU9iamVjdD86IGltcG9ydCgnLi9mb3JtYXRBbmRUeXBlQ2hvaWNlcy5qcycpLlpvZGV4U2NoZW1hXG4gKiB9KSA9PiB2b2lkfSBBZGRBbmRWYWxpZGF0ZUVkaXRVSVxuICovXG5cbi8qKlxuICogQHR5cGVkZWYgeygpID0+IHZvaWR9IFNldFN0eWxlc1xuICovXG5cbi8qKlxuICogQHR5cGVkZWYge0hUTUxFbGVtZW50ICYge1xuICogICAkYWRkQW5kVmFsaWRhdGVFZGl0VUk6IEFkZEFuZFZhbGlkYXRlRWRpdFVJLFxuICogICAkc2V0U3R5bGVzOiBTZXRTdHlsZXNcbiAqIH19IFR5cGVDaG9pY2VzRWxlbWVudEFQSVxuICovXG5cbi8qKlxuICogQGNhbGxiYWNrIEdldFZhbHVlXG4gKiBAcGFyYW0ge2ltcG9ydCgnLi90eXBlcy5qcycpLlN0YXRlT2JqZWN0fSBbc3RhdGVPYmpdIFdpbGxcbiAqICAgYXV0by1zZXQgYHR5cGVOYW1lc3BhY2VgIGFuZCBgZm9ybWF0YFxuICogQHBhcmFtIHtzdHJpbmd9IFtjdXJyZW50UGF0aF1cbiAqIEByZXR1cm5zIHtpbXBvcnQoJy4vZm9ybWF0cy5qcycpLlN0cnVjdHVyZWRDbG9uZVZhbHVlfVxuICovXG5cbi8qKlxuICogQGNhbGxiYWNrIEdldFR5cGVcbiAqIEByZXR1cm5zIHtzdHJpbmd9XG4gKi9cblxuLyoqXG4gKiBAY2FsbGJhY2sgVmFsaWRWYWx1ZXNTZXRcbiAqIEByZXR1cm5zIHtib29sZWFufVxuICovXG5cbi8qKlxuICogQGNhbGxiYWNrIFNldFZhbHVlXG4gKiBAcGFyYW0ge2ltcG9ydCgnLi9mb3JtYXRzLmpzJykuU3RydWN0dXJlZENsb25lVmFsdWV9IHZhbHVlXG4gKiBAcGFyYW0ge2ltcG9ydCgnLi90eXBlcy5qcycpLlN0YXRlT2JqZWN0fSBzdGF0ZU9ialxuICogQHJldHVybnMge1Byb21pc2U8dm9pZD59XG4gKi9cblxuLyoqXG4gKiBAY2FsbGJhY2sgQnVpbGRUeXBlQ2hvaWNlc1xuICogQHBhcmFtIHt7XG4gKiAgIGZvcm1hdDogaW1wb3J0KCcuL2Zvcm1hdHMuanMnKS5BdmFpbGFibGVGb3JtYXQsXG4gKiAgIHR5cGVOYW1lc3BhY2U/OiBzdHJpbmcsXG4gKiAgIHZhbHVlPzogaW1wb3J0KCcuL2Zvcm1hdHMuanMnKS5TdHJ1Y3R1cmVkQ2xvbmVWYWx1ZSxcbiAqICAgc2V0VmFsdWU/OiBib29sZWFuLFxuICogICBzdGF0ZT86IHN0cmluZyxcbiAqICAgYXJyYXlTdGF0ZT86IHN0cmluZyxcbiAqICAga2V5U2VsZWN0Q2xhc3M/OiBzdHJpbmcsXG4gKiAgIHJlcXVpcmVPYmplY3Q/OiBib29sZWFuLFxuICogICBvYmplY3RIYXNWYWx1ZT86IGJvb2xlYW4sXG4gKiAgIHRvcFJvb3Q/OiBpbXBvcnQoJy4vdHlwZXMuanMnKS5Sb290RWxlbWVudCxcbiAqICAgZm9ybWF0cz86IGltcG9ydCgnLi9mb3JtYXRzLmpzJykuZGVmYXVsdFxuICogICB0eXBlcz86IGltcG9ydCgnLi90eXBlcy5qcycpLmRlZmF1bHRcbiAqICAgc2NoZW1hPzogc3RyaW5nLFxuICogICBzY2hlbWFPcmlnaW5hbD86IGltcG9ydCgnLi9mb3JtYXRBbmRUeXBlQ2hvaWNlcy5qcycpLlpvZGV4U2NoZW1hLFxuICogICBzY2hlbWFDb250ZW50PzogaW1wb3J0KCcuL2Zvcm1hdEFuZFR5cGVDaG9pY2VzLmpzJykuWm9kZXhTY2hlbWEsXG4gKiB9fSBjZmdcbiAqIEByZXR1cm5zIHt7XG4gKiAgIGRvbUFycmF5OiBbc2VsZWN0OiBIVE1MRWxlbWVudCwgdHlwZUNvbnRhaW5lcjogSFRNTEVsZW1lbnRdLFxuICogICBnZXRWYWx1ZTogR2V0VmFsdWUsXG4gKiAgIGdldFR5cGU6IEdldFR5cGUsXG4gKiAgIHZhbGlkVmFsdWVzU2V0OiBWYWxpZFZhbHVlc1NldCxcbiAqICAgc2V0VmFsdWU6IFNldFZhbHVlXG4gKiB9fVxuICovXG5cbi8qKlxuICogQHR5cGUge0J1aWxkVHlwZUNob2ljZXN9XG4gKi9cbmV4cG9ydCBjb25zdCBidWlsZFR5cGVDaG9pY2VzID0gKHtcbiAgZm9ybWF0LFxuICB0eXBlTmFtZXNwYWNlLFxuICB2YWx1ZSxcbiAgc2V0VmFsdWUgPSBmYWxzZSxcbiAgc3RhdGUsXG4gIC8vIGl0ZW1JbmRleCA9IDAsXG4gIGtleVNlbGVjdENsYXNzLFxuICByZXF1aXJlT2JqZWN0LFxuICBvYmplY3RIYXNWYWx1ZSxcbiAgdG9wUm9vdCxcbiAgZm9ybWF0cyA9IG5ldyBGb3JtYXRzKCksXG4gIHR5cGVzID0gbmV3IFR5cGVzKCksXG4gIHNjaGVtYSxcbiAgc2NoZW1hT3JpZ2luYWwsXG4gIHNjaGVtYUNvbnRlbnRcbn0pID0+IHtcbiAgLy8gY29uc29sZS5sb2coJ2Zvcm1hdCcsIGZvcm1hdCwgJ3N0YXRlJywgc3RhdGUsICdwYXRoJywgdHlwZU5hbWVzcGFjZSk7XG4gIGNvbnN0IHR5cGVBbmRTY2hlbWFJbmZvID0gcmVxdWlyZU9iamVjdFxuICAgID8ge1xuICAgICAgdHlwZU9wdGlvbnM6IFt0eXBlcy5nZXRPcHRpb25Gb3JUeXBlKCdvYmplY3QnKV0sIHNjaGVtYU9iamVjdHM6IHVuZGVmaW5lZFxuICAgIH1cbiAgICA6IHR5cGVzLmdldFR5cGVPcHRpb25zRm9yRm9ybWF0QW5kU3RhdGUoXG4gICAgICBmb3JtYXQsIHN0YXRlLCBzY2hlbWFDb250ZW50LCBzY2hlbWFPcmlnaW5hbFxuICAgICk7XG4gIGNvbnN0IHt0eXBlT3B0aW9uc30gPSB0eXBlQW5kU2NoZW1hSW5mbztcbiAgY29uc3Qgc2NoZW1hT2JqcyA9IHR5cGVBbmRTY2hlbWFJbmZvLnNjaGVtYU9iamVjdHM7XG5cbiAgbGV0IGVkaXRVSTtcblxuICAvKiogQHR5cGUge0dldFZhbHVlfSAqL1xuICBjb25zdCAkZ2V0VmFsdWUgPSAoc3RhdGVPYmosIGN1cnJlbnRQYXRoKSA9PiB7XG4gICAgY29uc3Qgcm9vdCA9IC8qKiBAdHlwZSB7SFRNTERpdkVsZW1lbnR9ICovIChcbiAgICAgICRlKHR5cGVDb250YWluZXIsICdkaXZbZGF0YS10eXBlXScpXG4gICAgKTtcbiAgICByZXR1cm4gdHlwZXMuZ2V0VmFsdWVGb3JSb290KFxuICAgICAgcm9vdCxcbiAgICAgIC8qKiBAdHlwZSB7aW1wb3J0KCcuL3R5cGVzLmpzJykuU3RhdGVPYmplY3R9ICovICh7XG4gICAgICAgIHR5cGVOYW1lc3BhY2UsXG4gICAgICAgIGZvcm1hdHMsXG4gICAgICAgIGZvcm1hdCxcbiAgICAgICAgdHlwZXMsXG4gICAgICAgIC4uLnN0YXRlT2JqXG4gICAgICB9KSxcbiAgICAgIGN1cnJlbnRQYXRoXG4gICAgKTtcbiAgfTtcbiAgY29uc3Qgc2VsID0gLyoqIEB0eXBlIHtIVE1MU2VsZWN0RWxlbWVudH0gKi8gKGptbCgnc2VsZWN0Jywge1xuICAgIGhpZGRlbjogcmVxdWlyZU9iamVjdCB8fCB0eXBlT3B0aW9ucy5sZW5ndGggPT09IDEsXG4gICAgY2xhc3M6IGB0eXBlQ2hvaWNlcy0ke3R5cGVOYW1lc3BhY2V9JHtrZXlTZWxlY3RDbGFzc1xuICAgICAgPyAnICcgKyBrZXlTZWxlY3RDbGFzc1xuICAgICAgOiAnJ1xuICAgIH1gLFxuICAgIC8vIGlzOiAndHlwZS1jaG9pY2VzJyxcbiAgICAkY3VzdG9tOiB7XG4gICAgICAkZ2V0VmFsdWUsXG4gICAgICAvKiogQHR5cGUge1NldFR5cGV9ICovXG4gICAgICAkc2V0VHlwZSAoe3R5cGUsIGJhc2VWYWx1ZSwgYnJpbmdJbnRvRm9jdXN9KSB7XG4gICAgICAgIHRoaXMudmFsdWUgPSB0eXBlO1xuICAgICAgICB0aGlzLiRzZXRTdHlsZXMoKTtcbiAgICAgICAgdGhpcy4kYWRkQW5kVmFsaWRhdGVFZGl0VUkoe2Jhc2VWYWx1ZSwgYnJpbmdJbnRvRm9jdXN9KTtcbiAgICAgIH0sXG4gICAgICAvKipcbiAgICAgICAqIEB0eXBlIHsoaW5mbzoge3R5cGU6IHN0cmluZ30pID0+IHZvaWR9IGNmZ1xuICAgICAgICovXG4gICAgICAkc2V0VHlwZU5vRWRpdFVJICh7dHlwZX0pIHtcbiAgICAgICAgdGhpcy52YWx1ZSA9IHR5cGU7XG4gICAgICAgIHRoaXMuJHNldFN0eWxlcygpO1xuICAgICAgfSxcblxuICAgICAgLyoqIEB0eXBlIHtTZXRTdHlsZXN9ICovXG4gICAgICAkc2V0U3R5bGVzICgpIHtcbiAgICAgICAgY29uc3Qge3ZhbHVlOiB0eXBlfSA9IHRoaXM7XG4gICAgICAgIHRoaXMuZGF0YXNldC50eXBlID0gdHlwZTsgLy8gVXNlZCBmb3Igc3R5bGluZ1xuICAgICAgICBjb25zdCBwYXJFbCA9IHRoaXMucGFyZW50RWxlbWVudDtcbiAgICAgICAgaWYgKHBhckVsLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkgPT09ICdmaWVsZHNldCcpIHtcbiAgICAgICAgICBwYXJFbC5kYXRhc2V0LnR5cGUgPSB0eXBlO1xuICAgICAgICAgIERPTS5maWx0ZXJDaGlsZEVsZW1lbnRzKHBhckVsLCAnbGVnZW5kJykuZm9yRWFjaCgobGVnZW5kKSA9PiB7XG4gICAgICAgICAgICBsZWdlbmQuZGF0YXNldC50eXBlID0gdHlwZTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgICRnZXRUeXBlUm9vdCAoKSB7XG4gICAgICAgIGNvbnN0IGNvbnRhaW5lciA9IHRoaXMuJGdldENvbnRhaW5lcigpO1xuICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgLS0gSG93IHRvIHJlcGxpY2F0ZT8gKi9cbiAgICAgICAgaWYgKCFjb250YWluZXIpIHtcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuICRlKGNvbnRhaW5lciwgJ2RpdltkYXRhLXR5cGVdJyk7XG4gICAgICB9LFxuXG4gICAgICAvKiogQHR5cGUge0FkZEFuZFZhbGlkYXRlRWRpdFVJfSAqL1xuICAgICAgJGFkZEFuZFZhbGlkYXRlRWRpdFVJICh7XG4gICAgICAgIGJhc2VWYWx1ZSwgYnJpbmdJbnRvRm9jdXMsIHNjaGVtYU9iamVjdFxuICAgICAgfSA9IHt9KSB7XG4gICAgICAgIGNvbnN0IHt2YWx1ZTogdHlwZX0gPSB0aGlzO1xuXG4gICAgICAgIGlmICghdHlwZSkge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBsZXQgdG9wUm9vdCA9IHRoaXMuJGdldFRvcFJvb3QoKTtcblxuICAgICAgICAvLyBUb2RvIChsb3cpOiBUcnkgdG8gYXZvaWQgbmVlZCBmb3IgYGJhc2VWYWx1ZWBcbiAgICAgICAgLy8gICAgKG5lZWRlZCBieSBhcnJheU5vbmluZGV4S2V5cyBmb3Igc2V0dGluZyBhbiBhcnJheVxuICAgICAgICAvLyAgICBsZW5ndGggYW5kIGF2b2lkaW5nIGVycm9ycyk7IGNvdWxkIHNldCBhbGxcbiAgICAgICAgLy8gICAgdmFsdWVzIHRocm91Z2ggaGVyZT9cbiAgICAgICAgZWRpdFVJID0gdHlwZXMuZ2V0VUlGb3JNb2RlQW5kVHlwZSh7XG4gICAgICAgICAgcmVhZG9ubHk6IGZhbHNlLFxuICAgICAgICAgIHR5cGVOYW1lc3BhY2UsXG4gICAgICAgICAgdHlwZSxcbiAgICAgICAgICBicmluZ0ludG9Gb2N1cyxcbiAgICAgICAgICBoYXNWYWx1ZTogdHlwZSA9PT0gJ2FycmF5Tm9uaW5kZXhLZXlzJyAmJiBiYXNlVmFsdWUsXG4gICAgICAgICAgdmFsdWU6IGJhc2VWYWx1ZSxcbiAgICAgICAgICBidWlsZFR5cGVDaG9pY2VzLFxuICAgICAgICAgIGZvcm1hdCxcbiAgICAgICAgICB0b3BSb290LFxuICAgICAgICAgIHNjaGVtYUNvbnRlbnQ6IHNjaGVtYU9yaWdpbmFsID8/IHNjaGVtYUNvbnRlbnQsXG4gICAgICAgICAgc3BlY2lmaWNTY2hlbWFPYmplY3Q6IHNjaGVtYU9iamVjdFxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy4kYWRkRWRpdFVJKHtlZGl0VUl9KTtcbiAgICAgICAgdGhpcy4kdmFsaWRhdGUoKTtcbiAgICAgICAgdG9wUm9vdCA9IHRoaXMuJGdldFRvcFJvb3QoKTsgLy8gTWF5IGJlIGV4aXN0aW5nIG5vd1xuICAgICAgICAvLyBOZWVkZWQ7IEFycmF5L29iamVjdCByZWYgc29tZXdoZXJlIGNvdWxkIG5vdyBiZSB2YWxpZCBvciBpbnZhbGlkXG4gICAgICAgIHR5cGVzLnZhbGlkYXRlQWxsUmVmZXJlbmNlcyh7dG9wUm9vdH0pO1xuICAgICAgfSxcblxuICAgICAgLyoqIEB0eXBlIHtBZGRUeXBlQW5kRWRpdFVJfSAqL1xuICAgICAgJGFkZFR5cGVBbmRFZGl0VUkgKHt0eXBlLCBlZGl0VUl9KSB7XG4gICAgICAgIHRoaXMuJHNldFR5cGVOb0VkaXRVSSh7dHlwZX0pO1xuICAgICAgICB0aGlzLiRhZGRFZGl0VUkoe2VkaXRVSX0pO1xuICAgICAgfSxcbiAgICAgIC8qKlxuICAgICAgICogQHR5cGUgeyhpbmZvOiB7ZWRpdFVJOiBIVE1MRWxlbWVudH0pID0+IHZvaWR9XG4gICAgICAgKi9cbiAgICAgICRhZGRFZGl0VUkgKHtlZGl0VUl9KSB7XG4gICAgICAgIGNvbnN0IGNvbnRhaW5lciA9IHRoaXMuJGdldENvbnRhaW5lcigpO1xuICAgICAgICBET00ucmVtb3ZlQ2hpbGRyZW4oY29udGFpbmVyKTtcbiAgICAgICAgam1sKGVkaXRVSSwgY29udGFpbmVyKTtcbiAgICAgIH0sXG4gICAgICAkZ2V0Q29udGFpbmVyICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubmV4dEVsZW1lbnRTaWJsaW5nO1xuICAgICAgfSxcbiAgICAgICRnZXRUb3BSb290ICgpIHtcbiAgICAgICAgcmV0dXJuIHRvcFJvb3QgfHwgdGhpcy4kZ2V0VHlwZVJvb3QoKTtcbiAgICAgIH0sXG4gICAgICAvKipcbiAgICAgICAqIEByZXR1cm5zIHtib29sZWFufVxuICAgICAgICovXG4gICAgICAkdmFsaWRhdGUgKCkge1xuICAgICAgICBjb25zdCB7dmFsdWU6IHR5cGV9ID0gdGhpcztcbiAgICAgICAgY29uc3QgY29udGFpbmVyID0gdGhpcy4kZ2V0Q29udGFpbmVyKCk7XG4gICAgICAgIGlmICghY29udGFpbmVyLmZpcnN0RWxlbWVudENoaWxkKSB7XG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGVkaXRVSSA9IGNvbnRhaW5lci5maXJzdEVsZW1lbnRDaGlsZDtcbiAgICAgICAgcmV0dXJuIHR5cGVzLnZhbGlkYXRlKHtcbiAgICAgICAgICB0eXBlLCByb290OiBlZGl0VUksIHRvcFJvb3Q6IHRoaXMuJGdldFRvcFJvb3QoKVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9LFxuICAgICRvbjoge2NoYW5nZSAoZSkge1xuICAgICAgLy8gV2UgZG9uJ3Qgd2FudCBmb3JtIGBvbmNoYW5nZWAgdG8gcnVuIGAkY2hlY2tGb3JLZXlEdXBsaWNhdGVzYFxuICAgICAgLy8gICBhZ2FpbiAodGhyb3VnaCBgYWRkQW5kVmFsaWRhdGVFZGl0VUlgLT5gdmFsaWRhdGVBbGxSZWZlcmVuY2VzYClcbiAgICAgIGU/LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgLyoqIEB0eXBlIHtUeXBlQ2hvaWNlc0VsZW1lbnRBUEl9ICovICh0aGlzKS4kYWRkQW5kVmFsaWRhdGVFZGl0VUkoe1xuICAgICAgICBzY2hlbWFPYmplY3Q6IHNjaGVtYU9ianNcbiAgICAgICAgICA/IHNjaGVtYU9ianNbTnVtYmVyKFxuICAgICAgICAgICAgLyoqIEB0eXBlIHtIVE1MU2VsZWN0RWxlbWVudH0gKi9cbiAgICAgICAgICAgIChlLnRhcmdldCkuc2VsZWN0ZWRPcHRpb25zWzBdLmRhdGFzZXQuaWR4XG4gICAgICAgICAgKV1cbiAgICAgICAgICA6IHVuZGVmaW5lZFxuICAgICAgfSk7XG4gICAgICAvKiogQHR5cGUge1R5cGVDaG9pY2VzRWxlbWVudEFQSX0gKi8gKHRoaXMpLiRzZXRTdHlsZXMoKTtcbiAgICB9fVxuICB9LCBbXG4gICAgWydvcHRpb24nLCB7dmFsdWU6ICcnfSwgW1xuICAgICAgJyhDaG9vc2UgYSB0eXBlKSdcbiAgICBdXSxcblxuICAgIC8vIEB0cy1leHBlY3QtZXJyb3IgQXBwYXJlbnQgVFMgYnVnXG4gICAgLi4udHlwZU9wdGlvbnMubWFwKFxuICAgICAgKFtvcHRUZXh0LCBvcHRBdHRzXSwgaWR4KSA9PiB7XG4gICAgICAgIHJldHVybiBbXG4gICAgICAgICAgJ29wdGlvbicsXG4gICAgICAgICAge1xuICAgICAgICAgICAgLi4ub3B0QXR0cyxcbiAgICAgICAgICAgIGRhdGFzZXQ6IHNjaGVtYU9ianMgPyB7aWR4fSA6IHt9XG4gICAgICAgICAgfSxcbiAgICAgICAgICBbb3B0VGV4dF1cbiAgICAgICAgXTtcbiAgICAgIH1cbiAgICApXG4gIF0pKTtcbiAgaWYgKHR5cGVPcHRpb25zLmxlbmd0aCA9PT0gMSkge1xuICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgc2VsLnNlbGVjdGVkSW5kZXggPSAxO1xuICAgICAgc2VsLmRpc3BhdGNoRXZlbnQobmV3IEV2ZW50KCdjaGFuZ2UnKSk7XG4gICAgfSk7XG4gIH0gZWxzZSBpZiAoc2V0VmFsdWUgfHwgKHJlcXVpcmVPYmplY3QgJiYgIW9iamVjdEhhc1ZhbHVlKSkge1xuICAgIHNldFRpbWVvdXQoYXN5bmMgKCkgPT4ge1xuICAgICAgaWYgKCFzZXRWYWx1ZSkgeyAvLyBpZiAocmVxdWlyZU9iamVjdCAmJiAhb2JqZWN0SGFzVmFsdWUpIHtcbiAgICAgICAgLy8gVG9kbyAobG93KTogV2UgY291bGQgYXV0by1wb3B1bGF0ZSBrZXlwYXRoIGlmIGhhc1xuICAgICAgICAvLyAgIGtleXBhdGggKGFuZCB3ZSBwcm9iYWJseSBhbHNvIG9ubHkgd2FudCBpZlxuICAgICAgICAvLyAgIG5vdCBhdXRvaW5jcmVtZW50KVxuICAgICAgICB2YWx1ZSA9IHt9O1xuICAgICAgfVxuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3Qgcm9vdEVkaXRVSSA9IGF3YWl0IGZvcm1hdHMuZ2V0Q29udHJvbHNGb3JGb3JtYXRBbmRWYWx1ZShcbiAgICAgICAgICB0eXBlcyxcbiAgICAgICAgICBmb3JtYXQsXG4gICAgICAgICAgdmFsdWUsXG4gICAgICAgICAge1xuICAgICAgICAgICAgcmVhZG9ubHk6IGZhbHNlLFxuICAgICAgICAgICAgdHlwZU5hbWVzcGFjZSxcbiAgICAgICAgICAgIHNjaGVtYSxcbiAgICAgICAgICAgIHNjaGVtYUNvbnRlbnQsXG4gICAgICAgICAgICBmb3JtYXRzLFxuICAgICAgICAgICAgdHlwZXNcbiAgICAgICAgICB9XG4gICAgICAgICk7XG4gICAgICAgIGNvbnN0IHR5cGUgPVxuICAgICAgICAgIFR5cGVzLmdldFR5cGVGb3JSb290KC8qKiBAdHlwZSB7SFRNTERpdkVsZW1lbnR9ICovIChcbiAgICAgICAgICAgIHJvb3RFZGl0VUlcbiAgICAgICAgICApKTtcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEBzdHlsaXN0aWMvbWF4LWxlbiAtLSBMb25nXG4gICAgICAgIC8qKiBAdHlwZSB7SFRNTFNlbGVjdEVsZW1lbnQgJiB7JGFkZFR5cGVBbmRFZGl0VUk6IEFkZFR5cGVBbmRFZGl0VUl9fSAqLyAoXG4gICAgICAgICAgc2VsXG4gICAgICAgICkuJGFkZFR5cGVBbmRFZGl0VUkoe3R5cGUsIGVkaXRVSTogcm9vdEVkaXRVSX0pO1xuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0IC0tIEF0IGxlYXN0IHNvbWUgZXJyb3JzIGhhbmRsZWQgZWFybGllciAqL1xuICAgICAgICBkaWFsb2dzLmFsZXJ0KHtcbiAgICAgICAgICBtZXNzYWdlOiAnVGhlIG9iamVjdCB0byBiZSBhZGRlZCBoYWQgdHlwZXMgbm90IHN1cHBvcnRlZCAnICtcbiAgICAgICAgICAgICdieSB0aGUgY3VycmVudCBmb3JtYXQuJ1xuICAgICAgICB9KTtcbiAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgLS0gSG93IHRvIHRyaWdnZXI/ICovXG4gICAgICAgIGNvbnNvbGUubG9nKCdlcnInLCBlcnIpO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgY29uc3QgdHlwZUNvbnRhaW5lciA9IGptbCgnZGl2Jywge2NsYXNzOiAndHlwZUNvbnRhaW5lcid9KTtcblxuICByZXR1cm4ge1xuICAgIGRvbUFycmF5OiBbXG4gICAgICBzZWwsXG4gICAgICB0eXBlQ29udGFpbmVyXG4gICAgXSxcblxuICAgIC8qKiBAdHlwZSB7R2V0VmFsdWV9ICovXG4gICAgZ2V0VmFsdWU6ICRnZXRWYWx1ZSxcblxuICAgIC8qKiBAdHlwZSB7R2V0VHlwZX0gKi9cbiAgICBnZXRUeXBlICgpIHtcbiAgICAgIGNvbnN0IHJvb3QgPSAvKiogQHR5cGUge0hUTUxEaXZFbGVtZW50fSAqLyAoXG4gICAgICAgICRlKHR5cGVDb250YWluZXIsICdkaXZbZGF0YS10eXBlXScpXG4gICAgICApO1xuICAgICAgcmV0dXJuIFR5cGVzLmdldFR5cGVGb3JSb290KHJvb3QpO1xuICAgIH0sXG5cbiAgICAvKiogQHR5cGUge1ZhbGlkVmFsdWVzU2V0fSAqL1xuICAgIHZhbGlkVmFsdWVzU2V0ICgpIHtcbiAgICAgIGNvbnN0IHJvb3QgPSAvKiogQHR5cGUge0hUTUxEaXZFbGVtZW50fSAqLyAoXG4gICAgICAgICRlKHR5cGVDb250YWluZXIsICdkaXZbZGF0YS10eXBlXScpXG4gICAgICApO1xuICAgICAgY29uc3QgZm9ybSA9IC8qKiBAdHlwZSB7SFRNTEZvcm1FbGVtZW50fSAqLyAocm9vdC5jbG9zZXN0KCdmb3JtJykpO1xuICAgICAgcmV0dXJuIFR5cGVzLnZhbGlkVmFsdWVzU2V0KHtmb3JtLCB0eXBlTmFtZXNwYWNlfSk7XG4gICAgfSxcblxuICAgIC8qKiBAdHlwZSB7U2V0VmFsdWV9ICovXG4gICAgYXN5bmMgc2V0VmFsdWUgKHZhbHVlLCBzdGF0ZU9iaikge1xuICAgICAgY29uc3Qgcm9vdEVkaXRVSSA9IC8qKiBAdHlwZSB7SFRNTERpdkVsZW1lbnR9ICovIChcbiAgICAgICAgYXdhaXQgZm9ybWF0cy5nZXRDb250cm9sc0ZvckZvcm1hdEFuZFZhbHVlKFxuICAgICAgICAgIHR5cGVzLFxuICAgICAgICAgIGZvcm1hdCwgdmFsdWUsIHN0YXRlT2JqXG4gICAgICAgIClcbiAgICAgICk7XG4gICAgICBjb25zdCB0eXBlID0gVHlwZXMuZ2V0VHlwZUZvclJvb3Qocm9vdEVkaXRVSSk7XG4gICAgICAvKiogQHR5cGUge0hUTUxTZWxlY3RFbGVtZW50ICYgeyRhZGRUeXBlQW5kRWRpdFVJOiBBZGRUeXBlQW5kRWRpdFVJfX0gKi8gKFxuICAgICAgICBzZWxcbiAgICAgICkuJGFkZFR5cGVBbmRFZGl0VUkoe3R5cGUsIGVkaXRVSTogcm9vdEVkaXRVSX0pO1xuICAgIH1cbiAgfTtcbn07XG4iXSwibWFwcGluZ3MiOiJnMFlBZVk7QUFBQUEsYUFBQSxTQUFBQSxDQUFBLFNBQUFDLGNBQUEsV0FBQUEsY0FBQSxFQUFBRCxhQUFBLEdBZlosT0FBUUUsR0FBRyxLQUFPLHFCQUFxQixDQUN2QyxNQUFPLENBQUFDLE9BQU8sS0FBTSxjQUFjLENBQ2xDLE1BQU8sQ0FBQUMsS0FBSyxLQUFNLFlBQVksQ0FFOUIsT0FBUUMsRUFBRSxDQUFFQyxHQUFHLEtBQU8sMEJBQTBCLENBQ2hELE1BQU8sQ0FBQUMsT0FBTyxLQUFNLG9CQUFvQixDQUV4QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FOQSxDQVFBO0FBQ0E7QUFDQSxHQUZBLENBSUE7QUFDQTtBQUNBO0FBQ0E7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