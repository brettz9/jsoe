function cov_46dnclk9m(){var path="/Users/brett/jsoe/src/typeChoices.js";var hash="6df145358a1c107347ce2e69548df224c70eada4";var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"/Users/brett/jsoe/src/typeChoices.js",statementMap:{"0":{start:{line:105,column:32},end:{line:426,column:1}},"1":{start:{line:125,column:28},end:{line:131,column:5}},"2":{start:{line:132,column:24},end:{line:132,column:41}},"3":{start:{line:133,column:21},end:{line:133,column:52}},"4":{start:{line:138,column:20},end:{line:153,column:3}},"5":{start:{line:140,column:6},end:{line:140,column:41}},"6":{start:{line:142,column:4},end:{line:152,column:6}},"7":{start:{line:154,column:48},end:{line:329,column:4}},"8":{start:{line:165,column:8},end:{line:165,column:26}},"9":{start:{line:166,column:8},end:{line:166,column:26}},"10":{start:{line:167,column:8},end:{line:167,column:77}},"11":{start:{line:176,column:8},end:{line:183,column:9}},"12":{start:{line:177,column:22},end:{line:179,column:52}},"13":{start:{line:178,column:12},end:{line:178,column:39}},"14":{start:{line:180,column:10},end:{line:180,column:39}},"15":{start:{line:182,column:10},end:{line:182,column:28}},"16":{start:{line:184,column:8},end:{line:184,column:26}},"17":{start:{line:189,column:30},end:{line:189,column:34}},"18":{start:{line:190,column:8},end:{line:190,column:33}},"19":{start:{line:191,column:25},end:{line:191,column:43}},"20":{start:{line:192,column:8},end:{line:195,column:9}},"21":{start:{line:194,column:10},end:{line:194,column:56}},"22":{start:{line:196,column:8},end:{line:201,column:9}},"23":{start:{line:197,column:10},end:{line:197,column:41}},"24":{start:{line:198,column:10},end:{line:200,column:13}},"25":{start:{line:199,column:12},end:{line:199,column:39}},"26":{start:{line:204,column:26},end:{line:204,column:46}},"27":{start:{line:206,column:8},end:{line:208,column:9}},"28":{start:{line:209,column:8},end:{line:209,column:47}},"29":{start:{line:216,column:30},end:{line:216,column:34}},"30":{start:{line:218,column:8},end:{line:220,column:9}},"31":{start:{line:219,column:10},end:{line:219,column:17}},"32":{start:{line:221,column:22},end:{line:221,column:40}},"33":{start:{line:227,column:8},end:{line:251,column:11}},"34":{start:{line:252,column:8},end:{line:252,column:34}},"35":{start:{line:253,column:8},end:{line:255,column:11}},"36":{start:{line:256,column:8},end:{line:256,column:37}},"37":{start:{line:258,column:8},end:{line:258,column:47}},"38":{start:{line:263,column:8},end:{line:263,column:54}},"39":{start:{line:264,column:8},end:{line:264,column:34}},"40":{start:{line:270,column:26},end:{line:270,column:46}},"41":{start:{line:271,column:8},end:{line:271,column:38}},"42":{start:{line:272,column:8},end:{line:272,column:31}},"43":{start:{line:275,column:8},end:{line:275,column:39}},"44":{start:{line:278,column:8},end:{line:278,column:46}},"45":{start:{line:285,column:30},end:{line:285,column:34}},"46":{start:{line:286,column:26},end:{line:286,column:46}},"47":{start:{line:287,column:8},end:{line:289,column:9}},"48":{start:{line:288,column:10},end:{line:288,column:23}},"49":{start:{line:290,column:23},end:{line:290,column:50}},"50":{start:{line:291,column:8},end:{line:294,column:11}},"51":{start:{line:300,column:6},end:{line:300,column:27}},"52":{start:{line:301,column:43},end:{line:308,column:9}},"53":{start:{line:309,column:43},end:{line:309,column:63}},"54":{start:{line:319,column:8},end:{line:326,column:10}},"55":{start:{line:330,column:2},end:{line:382,column:3}},"56":{start:{line:331,column:4},end:{line:334,column:7}},"57":{start:{line:332,column:6},end:{line:332,column:28}},"58":{start:{line:333,column:6},end:{line:333,column:45}},"59":{start:{line:335,column:9},end:{line:382,column:3}},"60":{start:{line:336,column:4},end:{line:381,column:7}},"61":{start:{line:337,column:6},end:{line:342,column:7}},"62":{start:{line:341,column:8},end:{line:341,column:19}},"63":{start:{line:343,column:6},end:{line:380,column:7}},"64":{start:{line:347,column:12},end:{line:359,column:9}},"65":{start:{line:361,column:10},end:{line:363,column:12}},"66":{start:{line:365,column:81},end:{line:371,column:11}},"67":{start:{line:384,column:24},end:{line:384,column:60}},"68":{start:{line:386,column:2},end:{line:425,column:4}},"69":{start:{line:398,column:8},end:{line:398,column:43}},"70":{start:{line:400,column:6},end:{line:400,column:40}},"71":{start:{line:406,column:8},end:{line:406,column:43}},"72":{start:{line:408,column:51},end:{line:408,column:71}},"73":{start:{line:409,column:6},end:{line:409,column:57}},"74":{start:{line:415,column:8},end:{line:418,column:17}},"75":{start:{line:420,column:19},end:{line:420,column:51}},"76":{start:{line:421,column:79},end:{line:423,column:54}}},fnMap:{"0":{name:"(anonymous_0)",decl:{start:{line:105,column:32},end:{line:105,column:33}},loc:{start:{line:123,column:6},end:{line:426,column:1}},line:123},"1":{name:"(anonymous_1)",decl:{start:{line:138,column:20},end:{line:138,column:21}},loc:{start:{line:138,column:47},end:{line:153,column:3}},line:138},"2":{name:"(anonymous_2)",decl:{start:{line:164,column:6},end:{line:164,column:7}},loc:{start:{line:164,column:64},end:{line:168,column:7}},line:164},"3":{name:"(anonymous_3)",decl:{start:{line:175,column:6},end:{line:175,column:7}},loc:{start:{line:175,column:48},end:{line:185,column:7}},line:175},"4":{name:"(anonymous_4)",decl:{start:{line:177,column:37},end:{line:177,column:38}},loc:{start:{line:177,column:46},end:{line:179,column:11}},line:177},"5":{name:"(anonymous_5)",decl:{start:{line:188,column:6},end:{line:188,column:7}},loc:{start:{line:188,column:20},end:{line:202,column:7}},line:188},"6":{name:"(anonymous_6)",decl:{start:{line:198,column:64},end:{line:198,column:65}},loc:{start:{line:198,column:76},end:{line:200,column:11}},line:198},"7":{name:"(anonymous_7)",decl:{start:{line:203,column:6},end:{line:203,column:7}},loc:{start:{line:203,column:22},end:{line:210,column:7}},line:203},"8":{name:"(anonymous_8)",decl:{start:{line:213,column:6},end:{line:213,column:7}},loc:{start:{line:215,column:14},end:{line:259,column:7}},line:215},"9":{name:"(anonymous_9)",decl:{start:{line:262,column:6},end:{line:262,column:7}},loc:{start:{line:262,column:57},end:{line:265,column:7}},line:262},"10":{name:"(anonymous_10)",decl:{start:{line:269,column:6},end:{line:269,column:7}},loc:{start:{line:269,column:28},end:{line:273,column:7}},line:269},"11":{name:"(anonymous_11)",decl:{start:{line:274,column:6},end:{line:274,column:7}},loc:{start:{line:274,column:23},end:{line:276,column:7}},line:274},"12":{name:"(anonymous_12)",decl:{start:{line:277,column:6},end:{line:277,column:7}},loc:{start:{line:277,column:21},end:{line:279,column:7}},line:277},"13":{name:"(anonymous_13)",decl:{start:{line:284,column:6},end:{line:284,column:7}},loc:{start:{line:284,column:37},end:{line:295,column:7}},line:284},"14":{name:"(anonymous_14)",decl:{start:{line:297,column:10},end:{line:297,column:11}},loc:{start:{line:297,column:21},end:{line:310,column:5}},line:297},"15":{name:"(anonymous_15)",decl:{start:{line:318,column:6},end:{line:318,column:7}},loc:{start:{line:318,column:35},end:{line:327,column:7}},line:318},"16":{name:"(anonymous_16)",decl:{start:{line:331,column:15},end:{line:331,column:16}},loc:{start:{line:331,column:21},end:{line:334,column:5}},line:331},"17":{name:"(anonymous_17)",decl:{start:{line:336,column:15},end:{line:336,column:16}},loc:{start:{line:336,column:27},end:{line:381,column:5}},line:336},"18":{name:"(anonymous_18)",decl:{start:{line:396,column:4},end:{line:396,column:5}},loc:{start:{line:396,column:15},end:{line:401,column:5}},line:396},"19":{name:"(anonymous_19)",decl:{start:{line:404,column:4},end:{line:404,column:5}},loc:{start:{line:404,column:22},end:{line:410,column:5}},line:404},"20":{name:"(anonymous_20)",decl:{start:{line:413,column:4},end:{line:413,column:5}},loc:{start:{line:413,column:37},end:{line:424,column:5}},line:413}},branchMap:{"0":{loc:{start:{line:106,column:2},end:{line:106,column:20}},type:"default-arg",locations:[{start:{line:106,column:16},end:{line:106,column:20}}],line:106},"1":{loc:{start:{line:110,column:2},end:{line:110,column:18}},type:"default-arg",locations:[{start:{line:110,column:13},end:{line:110,column:18}}],line:110},"2":{loc:{start:{line:117,column:2},end:{line:117,column:25}},type:"default-arg",locations:[{start:{line:117,column:12},end:{line:117,column:25}}],line:117},"3":{loc:{start:{line:118,column:2},end:{line:118,column:21}},type:"default-arg",locations:[{start:{line:118,column:10},end:{line:118,column:21}}],line:118},"4":{loc:{start:{line:125,column:28},end:{line:131,column:5}},type:"cond-expr",locations:[{start:{line:126,column:6},end:{line:128,column:5}},{start:{line:129,column:6},end:{line:131,column:5}}],line:125},"5":{loc:{start:{line:155,column:12},end:{line:155,column:53}},type:"binary-expr",locations:[{start:{line:155,column:12},end:{line:155,column:25}},{start:{line:155,column:29},end:{line:155,column:53}}],line:155},"6":{loc:{start:{line:156,column:42},end:{line:158,column:10}},type:"cond-expr",locations:[{start:{line:157,column:8},end:{line:157,column:28}},{start:{line:158,column:8},end:{line:158,column:10}}],line:156},"7":{loc:{start:{line:176,column:8},end:{line:183,column:9}},type:"if",locations:[{start:{line:176,column:8},end:{line:183,column:9}},{start:{line:181,column:15},end:{line:183,column:9}}],line:176},"8":{loc:{start:{line:176,column:12},end:{line:176,column:40}},type:"binary-expr",locations:[{start:{line:176,column:12},end:{line:176,column:22}},{start:{line:176,column:26},end:{line:176,column:40}}],line:176},"9":{loc:{start:{line:192,column:8},end:{line:195,column:9}},type:"if",locations:[{start:{line:192,column:8},end:{line:195,column:9}},{start:{line:undefined,column:undefined},end:{line:undefined,column:undefined}}],line:192},"10":{loc:{start:{line:196,column:8},end:{line:201,column:9}},type:"if",locations:[{start:{line:196,column:8},end:{line:201,column:9}},{start:{line:undefined,column:undefined},end:{line:undefined,column:undefined}}],line:196},"11":{loc:{start:{line:206,column:8},end:{line:208,column:9}},type:"if",locations:[{start:{line:undefined,column:undefined},end:{line:undefined,column:undefined}}],line:206},"12":{loc:{start:{line:213,column:29},end:{line:215,column:12}},type:"default-arg",locations:[{start:{line:215,column:10},end:{line:215,column:12}}],line:213},"13":{loc:{start:{line:218,column:8},end:{line:220,column:9}},type:"if",locations:[{start:{line:218,column:8},end:{line:220,column:9}},{start:{line:undefined,column:undefined},end:{line:undefined,column:undefined}}],line:218},"14":{loc:{start:{line:232,column:20},end:{line:232,column:61}},type:"binary-expr",locations:[{start:{line:232,column:20},end:{line:232,column:48}},{start:{line:232,column:52},end:{line:232,column:61}}],line:232},"15":{loc:{start:{line:237,column:25},end:{line:240,column:30}},type:"binary-expr",locations:[{start:{line:237,column:25},end:{line:237,column:39}},{start:{line:238,column:13},end:{line:240,column:29}}],line:237},"16":{loc:{start:{line:238,column:13},end:{line:240,column:29}},type:"cond-expr",locations:[{start:{line:239,column:16},end:{line:239,column:48}},{start:{line:240,column:16},end:{line:240,column:29}}],line:238},"17":{loc:{start:{line:238,column:13},end:{line:238,column:71}},type:"binary-expr",locations:[{start:{line:238,column:13},end:{line:238,column:44}},{start:{line:238,column:48},end:{line:238,column:71}}],line:238},"18":{loc:{start:{line:246,column:32},end:{line:249,column:30}},type:"binary-expr",locations:[{start:{line:246,column:32},end:{line:246,column:44}},{start:{line:247,column:13},end:{line:249,column:29}}],line:246},"19":{loc:{start:{line:247,column:13},end:{line:249,column:29}},type:"cond-expr",locations:[{start:{line:248,column:16},end:{line:248,column:48}},{start:{line:249,column:16},end:{line:249,column:29}}],line:247},"20":{loc:{start:{line:247,column:13},end:{line:247,column:71}},type:"binary-expr",locations:[{start:{line:247,column:13},end:{line:247,column:44}},{start:{line:247,column:48},end:{line:247,column:71}}],line:247},"21":{loc:{start:{line:250,column:37},end:{line:250,column:67}},type:"binary-expr",locations:[{start:{line:250,column:37},end:{line:250,column:50}},{start:{line:250,column:54},end:{line:250,column:67}}],line:250},"22":{loc:{start:{line:278,column:15},end:{line:278,column:45}},type:"binary-expr",locations:[{start:{line:278,column:15},end:{line:278,column:22}},{start:{line:278,column:26},end:{line:278,column:45}}],line:278},"23":{loc:{start:{line:284,column:17},end:{line:284,column:35}},type:"default-arg",locations:[{start:{line:284,column:33},end:{line:284,column:35}}],line:284},"24":{loc:{start:{line:287,column:8},end:{line:289,column:9}},type:"if",locations:[{start:{line:287,column:8},end:{line:289,column:9}},{start:{line:undefined,column:undefined},end:{line:undefined,column:undefined}}],line:287},"25":{loc:{start:{line:302,column:22},end:{line:307,column:21}},type:"cond-expr",locations:[{start:{line:303,column:12},end:{line:306,column:12}},{start:{line:307,column:12},end:{line:307,column:21}}],line:302},"26":{loc:{start:{line:323,column:21},end:{line:323,column:44}},type:"cond-expr",locations:[{start:{line:323,column:34},end:{line:323,column:39}},{start:{line:323,column:42},end:{line:323,column:44}}],line:323},"27":{loc:{start:{line:330,column:2},end:{line:382,column:3}},type:"if",locations:[{start:{line:330,column:2},end:{line:382,column:3}},{start:{line:335,column:9},end:{line:382,column:3}}],line:330},"28":{loc:{start:{line:330,column:6},end:{line:330,column:58}},type:"binary-expr",locations:[{start:{line:330,column:6},end:{line:330,column:17}},{start:{line:330,column:21},end:{line:330,column:45}},{start:{line:330,column:49},end:{line:330,column:58}}],line:330},"29":{loc:{start:{line:335,column:9},end:{line:382,column:3}},type:"if",locations:[{start:{line:335,column:9},end:{line:382,column:3}},{start:{line:undefined,column:undefined},end:{line:undefined,column:undefined}}],line:335},"30":{loc:{start:{line:335,column:13},end:{line:335,column:59}},type:"binary-expr",locations:[{start:{line:335,column:13},end:{line:335,column:21}},{start:{line:335,column:26},end:{line:335,column:39}},{start:{line:335,column:43},end:{line:335,column:58}}],line:335},"31":{loc:{start:{line:337,column:6},end:{line:342,column:7}},type:"if",locations:[{start:{line:337,column:6},end:{line:342,column:7}},{start:{line:undefined,column:undefined},end:{line:undefined,column:undefined}}],line:337}},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0,"54":0,"55":0,"56":0,"57":0,"58":0,"59":0,"60":0,"61":0,"62":0,"63":0,"64":0,"65":0,"66":0,"67":0,"68":0,"69":0,"70":0,"71":0,"72":0,"73":0,"74":0,"75":0,"76":0},f:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0},b:{"0":[0],"1":[0],"2":[0],"3":[0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[0,0],"10":[0,0],"11":[0],"12":[0],"13":[0,0],"14":[0,0],"15":[0,0],"16":[0,0],"17":[0,0],"18":[0,0],"19":[0,0],"20":[0,0],"21":[0,0],"22":[0,0],"23":[0],"24":[0,0],"25":[0,0],"26":[0,0],"27":[0,0],"28":[0,0,0],"29":[0,0],"30":[0,0,0],"31":[0,0]},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"6df145358a1c107347ce2e69548df224c70eada4"};var coverage=global[gcv]||(global[gcv]={});if(!coverage[path]||coverage[path].hash!==hash){coverage[path]=coverageData;}var actualCoverage=coverage[path];{// @ts-ignore
cov_46dnclk9m=function(){return actualCoverage;};}return actualCoverage;}cov_46dnclk9m();import{jml}from'./vendor-imports.js';import Formats from'./formats.js';import Types from'./types.js';import{$e,DOM}from'./utils/templateUtils.js';import dialogs from'./utils/dialogs.js';// This is technically just `import('./index.js').SetType`, but our
//   redirect file causes problems, so we redefine here
/**
 * @typedef {(cfg: {
 *   type: string,
 *   baseValue?: import('./formats.js').StructuredCloneValue,
 *   bringIntoFocus?: boolean,
 *   avoidReport?: boolean
 * }) => void} SetType
 */ /**
 * @typedef {(info: {
 *   type: string,
 *   editUI: Element,
 *   specificSchema?: import('zodex').SzType
 * }) => void} AddTypeAndEditUI
 */ /**
 * @typedef {(info?: {
 *   baseValue?: import('./formats.js').StructuredCloneValue,
 *   bringIntoFocus?: boolean,
 *   schemaObject?: import('./formatAndTypeChoices.js').ZodexSchema,
 *   avoidReport?: boolean
 * }) => void} AddAndValidateEditUI
 */ /**
 * @typedef {() => void} SetStyles
 */ /**
 * @typedef {HTMLElement & {
 *   $addAndValidateEditUI: AddAndValidateEditUI,
 *   $setStyles: SetStyles
 * }} TypeChoicesElementAPI
 */ /**
 * @callback GetValue
 * @param {import('./types.js').StateObject} [stateObj] Will
 *   auto-set `typeNamespace` and `format`
 * @param {string} [currentPath]
 * @returns {import('./formats.js').StructuredCloneValue}
 */ /**
 * @callback GetType
 * @returns {string}
 */ /**
 * @callback ValidValuesSet
 * @returns {boolean}
 */ /**
 * @callback SetValue
 * @param {import('./formats.js').StructuredCloneValue} value
 * @param {import('./types.js').StateObject} stateObj
 * @returns {Promise<void>}
 */ /**
 * @callback BuildTypeChoices
 * @param {{
 *   autoTrigger?: boolean,
 *   format: import('./formats.js').AvailableFormat,
 *   typeNamespace?: string,
 *   value?: import('./formats.js').StructuredCloneValue,
 *   setValue?: boolean,
 *   state?: string,
 *   forcedState?: string,
 *   keySelectClass?: string,
 *   requireObject?: boolean,
 *   objectHasValue?: boolean,
 *   topRoot?: import('./types.js').RootElement,
 *   formats?: import('./formats.js').default
 *   types?: import('./types.js').default
 *   schema?: string,
 *   schemaIdx?: number,
 *   schemaOriginal?: import('./formatAndTypeChoices.js').ZodexSchema,
 *   schemaContent?: import('./formatAndTypeChoices.js').ZodexSchema,
 * }} cfg
 * @returns {{
 *   domArray: [select: HTMLElement, typeContainer: HTMLElement],
 *   getValue: GetValue,
 *   getType: GetType,
 *   validValuesSet: ValidValuesSet,
 *   setValue: SetValue
 * }}
 */ /**
 * @type {BuildTypeChoices}
 */cov_46dnclk9m().s[0]++;export const buildTypeChoices=({autoTrigger=(cov_46dnclk9m().b[0][0]++,true),format,typeNamespace,value,setValue=(cov_46dnclk9m().b[1][0]++,false),state,// itemIndex = 0,
keySelectClass,requireObject,objectHasValue,topRoot,formats=(cov_46dnclk9m().b[2][0]++,new Formats()),types=(cov_46dnclk9m().b[3][0]++,new Types()),schema,schemaIdx,schemaOriginal,schemaContent})=>{cov_46dnclk9m().f[0]++;// console.log('format', format, 'state', state, 'path', typeNamespace);
const typeAndSchemaInfo=(cov_46dnclk9m().s[1]++,requireObject?(cov_46dnclk9m().b[4][0]++,{typeOptions:[types.getOptionForType('object')],schemaObjects:undefined}):(cov_46dnclk9m().b[4][1]++,types.getTypeOptionsForFormatAndState(format,state,schemaContent,schemaOriginal)));const{typeOptions}=(cov_46dnclk9m().s[2]++,typeAndSchemaInfo);const schemaObjs=(cov_46dnclk9m().s[3]++,typeAndSchemaInfo.schemaObjects);let editUI;/** @type {GetValue} */cov_46dnclk9m().s[4]++;const $getValue=(stateObj,currentPath)=>{cov_46dnclk9m().f[1]++;const root=(/** @type {HTMLDivElement} */cov_46dnclk9m().s[5]++,$e(typeContainer,'div[data-type]'));cov_46dnclk9m().s[6]++;return types.getValueForRoot(root,/** @type {import('./types.js').StateObject} */{typeNamespace,formats,format,types,...stateObj},currentPath);};const sel=(/** @type {HTMLSelectElement} */cov_46dnclk9m().s[7]++,jml('select',{hidden:(cov_46dnclk9m().b[5][0]++,requireObject)||(cov_46dnclk9m().b[5][1]++,typeOptions.length===1),class:`typeChoices-${typeNamespace}${keySelectClass?(cov_46dnclk9m().b[6][0]++,' '+keySelectClass):(cov_46dnclk9m().b[6][1]++,'')}`,// is: 'type-choices',
$custom:{$getValue,/** @type {SetType} */$setType({type,baseValue,bringIntoFocus,avoidReport}){cov_46dnclk9m().f[2]++;cov_46dnclk9m().s[8]++;this.value=type;cov_46dnclk9m().s[9]++;this.$setStyles();cov_46dnclk9m().s[10]++;this.$addAndValidateEditUI({baseValue,bringIntoFocus,avoidReport});},/**
       * @type {(info: {
       *   type: string,
       *   specificSchema?: import('zodex').SzType
       * }) => void} cfg
       */$setTypeNoEditUI({type,specificSchema}){cov_46dnclk9m().f[3]++;cov_46dnclk9m().s[11]++;if((cov_46dnclk9m().b[8][0]++,schemaObjs)&&(cov_46dnclk9m().b[8][1]++,specificSchema)){cov_46dnclk9m().b[7][0]++;const idx=(cov_46dnclk9m().s[12]++,schemaObjs.map(obj=>{cov_46dnclk9m().f[4]++;cov_46dnclk9m().s[13]++;return JSON.stringify(obj);}).indexOf(JSON.stringify(specificSchema)));cov_46dnclk9m().s[14]++;this.selectedIndex=idx+1;}else{cov_46dnclk9m().b[7][1]++;cov_46dnclk9m().s[15]++;this.value=type;}cov_46dnclk9m().s[16]++;this.$setStyles();},/** @type {SetStyles} */$setStyles(){cov_46dnclk9m().f[5]++;const{value:type}=(cov_46dnclk9m().s[17]++,this);cov_46dnclk9m().s[18]++;this.dataset.type=type;// Used for styling
let ancestorEl=(cov_46dnclk9m().s[19]++,this.parentElement);cov_46dnclk9m().s[20]++;if(ancestorEl.nodeName.toLowerCase()!=='fieldset'){cov_46dnclk9m().b[9][0]++;cov_46dnclk9m().s[21]++;// Grandparent check added for optional items placeholder
ancestorEl=this.parentElement.parentElement;}else{cov_46dnclk9m().b[9][1]++;}cov_46dnclk9m().s[22]++;if(ancestorEl.nodeName.toLowerCase()==='fieldset'){cov_46dnclk9m().b[10][0]++;cov_46dnclk9m().s[23]++;ancestorEl.dataset.type=type;cov_46dnclk9m().s[24]++;DOM.filterChildElements(ancestorEl,'legend').forEach(legend=>{cov_46dnclk9m().f[6]++;cov_46dnclk9m().s[25]++;legend.dataset.type=type;});}else{cov_46dnclk9m().b[10][1]++;}},$getTypeRoot(){cov_46dnclk9m().f[7]++;const container=(cov_46dnclk9m().s[26]++,this.$getContainer());/* istanbul ignore if -- How to replicate? */cov_46dnclk9m().s[27]++;if(!container){return false;}else{cov_46dnclk9m().b[11][0]++;}cov_46dnclk9m().s[28]++;return $e(container,'div[data-type]');},/** @type {AddAndValidateEditUI} */$addAndValidateEditUI({baseValue,bringIntoFocus,schemaObject,avoidReport}=(cov_46dnclk9m().b[12][0]++,{})){cov_46dnclk9m().f[8]++;const{value:type}=(cov_46dnclk9m().s[29]++,this);cov_46dnclk9m().s[30]++;if(!type){cov_46dnclk9m().b[13][0]++;cov_46dnclk9m().s[31]++;return;}else{cov_46dnclk9m().b[13][1]++;}let topRoot=(cov_46dnclk9m().s[32]++,this.$getTopRoot());// Todo (low): Try to avoid need for `baseValue`
//    (needed by arrayNonindexKeys for setting an array
//    length and avoiding errors); could set all
//    values through here?
cov_46dnclk9m().s[33]++;editUI=types.getUIForModeAndType({readonly:false,typeNamespace,type,bringIntoFocus,hasValue:(cov_46dnclk9m().b[14][0]++,type==='arrayNonindexKeys')&&(cov_46dnclk9m().b[14][1]++,baseValue),value:baseValue,buildTypeChoices,format,topRoot,schemaContent:(cov_46dnclk9m().b[15][0]++,schemaOriginal)??(cov_46dnclk9m().b[15][1]++,(cov_46dnclk9m().b[17][0]++,schemaContent?.type==='union')&&(cov_46dnclk9m().b[17][1]++,schemaIdx!==undefined)?(cov_46dnclk9m().b[16][0]++,schemaContent.options[schemaIdx]):(cov_46dnclk9m().b[16][1]++,schemaContent)),// Added `schemaContent` as inner arrays were not getting their
//   schema info; this apparently allows (actually requires)
//   commenting out the auto-adding of object content at end of
//   editUI in arrayType.js; we add `schemaFallingBack` to
//   distinguish
specificSchemaObject:(cov_46dnclk9m().b[18][0]++,schemaObject)??(cov_46dnclk9m().b[18][1]++,(cov_46dnclk9m().b[20][0]++,schemaContent?.type==='union')&&(cov_46dnclk9m().b[20][1]++,schemaIdx!==undefined)?(cov_46dnclk9m().b[19][0]++,schemaContent.options[schemaIdx]):(cov_46dnclk9m().b[19][1]++,schemaContent)),schemaFallingBack:Boolean((cov_46dnclk9m().b[21][0]++,!schemaObject)&&(cov_46dnclk9m().b[21][1]++,schemaContent))});cov_46dnclk9m().s[34]++;this.$addEditUI({editUI});cov_46dnclk9m().s[35]++;this.$validate({avoidReport});cov_46dnclk9m().s[36]++;topRoot=this.$getTopRoot();// May be existing now
// Needed; Array/object ref somewhere could now be valid or invalid
cov_46dnclk9m().s[37]++;types.validateAllReferences({topRoot});},/** @type {AddTypeAndEditUI} */$addTypeAndEditUI({type,editUI,specificSchema}){cov_46dnclk9m().f[9]++;cov_46dnclk9m().s[38]++;this.$setTypeNoEditUI({type,specificSchema});cov_46dnclk9m().s[39]++;this.$addEditUI({editUI});},/**
       * @type {(info: {editUI: HTMLElement}) => void}
       */$addEditUI({editUI}){cov_46dnclk9m().f[10]++;const container=(cov_46dnclk9m().s[40]++,this.$getContainer());cov_46dnclk9m().s[41]++;DOM.removeChildren(container);cov_46dnclk9m().s[42]++;jml(editUI,container);},$getContainer(){cov_46dnclk9m().f[11]++;cov_46dnclk9m().s[43]++;return this.nextElementSibling;},$getTopRoot(){cov_46dnclk9m().f[12]++;cov_46dnclk9m().s[44]++;return(cov_46dnclk9m().b[22][0]++,topRoot)||(cov_46dnclk9m().b[22][1]++,this.$getTypeRoot());},/**
       * @param {{avoidReport?: boolean}} cfg
       * @returns {boolean}
       */$validate({avoidReport}=(cov_46dnclk9m().b[23][0]++,{})){cov_46dnclk9m().f[13]++;const{value:type}=(cov_46dnclk9m().s[45]++,this);const container=(cov_46dnclk9m().s[46]++,this.$getContainer());cov_46dnclk9m().s[47]++;if(!container.firstElementChild){cov_46dnclk9m().b[24][0]++;cov_46dnclk9m().s[48]++;return false;}else{cov_46dnclk9m().b[24][1]++;}const editUI=(cov_46dnclk9m().s[49]++,container.firstElementChild);cov_46dnclk9m().s[50]++;return types.validate({type,root:editUI,topRoot:this.$getTopRoot(),avoidReport});}},$on:{change(e){cov_46dnclk9m().f[14]++;cov_46dnclk9m().s[51]++;// We don't want form `onchange` to run `$checkForKeyDuplicates`
//   again (through `addAndValidateEditUI`->`validateAllReferences`)
e?.stopPropagation();/** @type {TypeChoicesElementAPI} */cov_46dnclk9m().s[52]++;this.$addAndValidateEditUI({schemaObject:schemaObjs?(cov_46dnclk9m().b[25][0]++,schemaObjs[Number(/** @type {HTMLSelectElement} */e.target.selectedOptions[0].dataset.idx)]):(cov_46dnclk9m().b[25][1]++,undefined)});/** @type {TypeChoicesElementAPI} */cov_46dnclk9m().s[53]++;this.$setStyles();}}},[['option',{value:''},['(Choose a type)']],// @ts-expect-error Apparent TS bug
...typeOptions.map(([optText,optAtts],idx)=>{cov_46dnclk9m().f[15]++;cov_46dnclk9m().s[54]++;return['option',{...optAtts,dataset:schemaObjs?(cov_46dnclk9m().b[26][0]++,{idx}):(cov_46dnclk9m().b[26][1]++,{})},[optText]];})]));cov_46dnclk9m().s[55]++;if((cov_46dnclk9m().b[28][0]++,autoTrigger)&&(cov_46dnclk9m().b[28][1]++,typeOptions.length===1)&&(cov_46dnclk9m().b[28][2]++,!setValue)){cov_46dnclk9m().b[27][0]++;cov_46dnclk9m().s[56]++;setTimeout(()=>{cov_46dnclk9m().f[16]++;cov_46dnclk9m().s[57]++;sel.selectedIndex=1;cov_46dnclk9m().s[58]++;sel.dispatchEvent(new Event('change'));});}else{cov_46dnclk9m().b[27][1]++;cov_46dnclk9m().s[59]++;if((cov_46dnclk9m().b[30][0]++,setValue)||(cov_46dnclk9m().b[30][1]++,requireObject)&&(cov_46dnclk9m().b[30][2]++,!objectHasValue)){cov_46dnclk9m().b[29][0]++;cov_46dnclk9m().s[60]++;setTimeout(async()=>{cov_46dnclk9m().f[17]++;cov_46dnclk9m().s[61]++;if(!setValue){cov_46dnclk9m().b[31][0]++;cov_46dnclk9m().s[62]++;// if (requireObject && !objectHasValue) {
// Todo (low): We could auto-populate keypath if has
//   keypath (and we probably also only want if
//   not autoincrement)
value={};}else{cov_46dnclk9m().b[31][1]++;}cov_46dnclk9m().s[63]++;try{const{rootUI:rootEditUI,specificSchemas}=(cov_46dnclk9m().s[64]++,await formats.getControlsForFormatAndValue(types,format,value,{readonly:false,typeNamespace,schema,schemaContent,formats,types}));const type=(cov_46dnclk9m().s[65]++,Types.getTypeForRoot(/** @type {HTMLDivElement} */rootEditUI));// eslint-disable-next-line @stylistic/max-len -- Long
/** @type {HTMLSelectElement & {$addTypeAndEditUI: AddTypeAndEditUI}} */cov_46dnclk9m().s[66]++;sel.$addTypeAndEditUI({type,editUI:rootEditUI,// We do actually want the first one
specificSchema:specificSchemas?.[0]});}catch(err){/* istanbul ignore next -- At least some errors handled earlier */dialogs.alert({message:'The object to be added had types not supported '+'by the current format.'});/* istanbul ignore next -- How to trigger? */console.log('err',err);}});}else{cov_46dnclk9m().b[29][1]++;}}const typeContainer=(cov_46dnclk9m().s[67]++,jml('div',{class:'typeContainer'}));cov_46dnclk9m().s[68]++;return{domArray:[sel,typeContainer],/** @type {GetValue} */getValue:$getValue,/** @type {GetType} */getType(){cov_46dnclk9m().f[18]++;const root=(/** @type {HTMLDivElement} */cov_46dnclk9m().s[69]++,$e(typeContainer,'div[data-type]'));cov_46dnclk9m().s[70]++;return Types.getTypeForRoot(root);},/** @type {ValidValuesSet} */validValuesSet(){cov_46dnclk9m().f[19]++;const root=(/** @type {HTMLDivElement} */cov_46dnclk9m().s[71]++,$e(typeContainer,'div[data-type]'));const form=(/** @type {HTMLFormElement} */cov_46dnclk9m().s[72]++,root.closest('form'));cov_46dnclk9m().s[73]++;return Types.validValuesSet({form,typeNamespace});},/** @type {SetValue} */async setValue(value,stateObj){cov_46dnclk9m().f[20]++;const rootEditUI=(/** @type {HTMLDivElement} */cov_46dnclk9m().s[74]++,(await formats.getControlsForFormatAndValue(types,format,value,stateObj)).rootUI);const type=(cov_46dnclk9m().s[75]++,Types.getTypeForRoot(rootEditUI));/** @type {HTMLSelectElement & {$addTypeAndEditUI: AddTypeAndEditUI}} */cov_46dnclk9m().s[76]++;sel.$addTypeAndEditUI({type,editUI:rootEditUI});}};};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJjb3ZfNDZkbmNsazltIiwiYWN0dWFsQ292ZXJhZ2UiLCJqbWwiLCJGb3JtYXRzIiwiVHlwZXMiLCIkZSIsIkRPTSIsImRpYWxvZ3MiLCJzIiwiYnVpbGRUeXBlQ2hvaWNlcyIsImF1dG9UcmlnZ2VyIiwiYiIsImZvcm1hdCIsInR5cGVOYW1lc3BhY2UiLCJ2YWx1ZSIsInNldFZhbHVlIiwic3RhdGUiLCJrZXlTZWxlY3RDbGFzcyIsInJlcXVpcmVPYmplY3QiLCJvYmplY3RIYXNWYWx1ZSIsInRvcFJvb3QiLCJmb3JtYXRzIiwidHlwZXMiLCJzY2hlbWEiLCJzY2hlbWFJZHgiLCJzY2hlbWFPcmlnaW5hbCIsInNjaGVtYUNvbnRlbnQiLCJmIiwidHlwZUFuZFNjaGVtYUluZm8iLCJ0eXBlT3B0aW9ucyIsImdldE9wdGlvbkZvclR5cGUiLCJzY2hlbWFPYmplY3RzIiwidW5kZWZpbmVkIiwiZ2V0VHlwZU9wdGlvbnNGb3JGb3JtYXRBbmRTdGF0ZSIsInNjaGVtYU9ianMiLCJlZGl0VUkiLCIkZ2V0VmFsdWUiLCJzdGF0ZU9iaiIsImN1cnJlbnRQYXRoIiwicm9vdCIsInR5cGVDb250YWluZXIiLCJnZXRWYWx1ZUZvclJvb3QiLCJzZWwiLCJoaWRkZW4iLCJsZW5ndGgiLCJjbGFzcyIsIiRjdXN0b20iLCIkc2V0VHlwZSIsInR5cGUiLCJiYXNlVmFsdWUiLCJicmluZ0ludG9Gb2N1cyIsImF2b2lkUmVwb3J0IiwiJHNldFN0eWxlcyIsIiRhZGRBbmRWYWxpZGF0ZUVkaXRVSSIsIiRzZXRUeXBlTm9FZGl0VUkiLCJzcGVjaWZpY1NjaGVtYSIsImlkeCIsIm1hcCIsIm9iaiIsIkpTT04iLCJzdHJpbmdpZnkiLCJpbmRleE9mIiwic2VsZWN0ZWRJbmRleCIsImRhdGFzZXQiLCJhbmNlc3RvckVsIiwicGFyZW50RWxlbWVudCIsIm5vZGVOYW1lIiwidG9Mb3dlckNhc2UiLCJmaWx0ZXJDaGlsZEVsZW1lbnRzIiwiZm9yRWFjaCIsImxlZ2VuZCIsIiRnZXRUeXBlUm9vdCIsImNvbnRhaW5lciIsIiRnZXRDb250YWluZXIiLCJzY2hlbWFPYmplY3QiLCIkZ2V0VG9wUm9vdCIsImdldFVJRm9yTW9kZUFuZFR5cGUiLCJyZWFkb25seSIsImhhc1ZhbHVlIiwib3B0aW9ucyIsInNwZWNpZmljU2NoZW1hT2JqZWN0Iiwic2NoZW1hRmFsbGluZ0JhY2siLCJCb29sZWFuIiwiJGFkZEVkaXRVSSIsIiR2YWxpZGF0ZSIsInZhbGlkYXRlQWxsUmVmZXJlbmNlcyIsIiRhZGRUeXBlQW5kRWRpdFVJIiwicmVtb3ZlQ2hpbGRyZW4iLCJuZXh0RWxlbWVudFNpYmxpbmciLCJmaXJzdEVsZW1lbnRDaGlsZCIsInZhbGlkYXRlIiwiJG9uIiwiY2hhbmdlIiwiZSIsInN0b3BQcm9wYWdhdGlvbiIsIk51bWJlciIsInRhcmdldCIsInNlbGVjdGVkT3B0aW9ucyIsIm9wdFRleHQiLCJvcHRBdHRzIiwic2V0VGltZW91dCIsImRpc3BhdGNoRXZlbnQiLCJFdmVudCIsInJvb3RVSSIsInJvb3RFZGl0VUkiLCJzcGVjaWZpY1NjaGVtYXMiLCJnZXRDb250cm9sc0ZvckZvcm1hdEFuZFZhbHVlIiwiZ2V0VHlwZUZvclJvb3QiLCJlcnIiLCJhbGVydCIsIm1lc3NhZ2UiLCJjb25zb2xlIiwibG9nIiwiZG9tQXJyYXkiLCJnZXRWYWx1ZSIsImdldFR5cGUiLCJ2YWxpZFZhbHVlc1NldCIsImZvcm0iLCJjbG9zZXN0Il0sInNvdXJjZXMiOlsidHlwZUNob2ljZXMuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtqbWx9IGZyb20gJy4vdmVuZG9yLWltcG9ydHMuanMnO1xuaW1wb3J0IEZvcm1hdHMgZnJvbSAnLi9mb3JtYXRzLmpzJztcbmltcG9ydCBUeXBlcyBmcm9tICcuL3R5cGVzLmpzJztcblxuaW1wb3J0IHskZSwgRE9NfSBmcm9tICcuL3V0aWxzL3RlbXBsYXRlVXRpbHMuanMnO1xuaW1wb3J0IGRpYWxvZ3MgZnJvbSAnLi91dGlscy9kaWFsb2dzLmpzJztcblxuLy8gVGhpcyBpcyB0ZWNobmljYWxseSBqdXN0IGBpbXBvcnQoJy4vaW5kZXguanMnKS5TZXRUeXBlYCwgYnV0IG91clxuLy8gICByZWRpcmVjdCBmaWxlIGNhdXNlcyBwcm9ibGVtcywgc28gd2UgcmVkZWZpbmUgaGVyZVxuLyoqXG4gKiBAdHlwZWRlZiB7KGNmZzoge1xuICogICB0eXBlOiBzdHJpbmcsXG4gKiAgIGJhc2VWYWx1ZT86IGltcG9ydCgnLi9mb3JtYXRzLmpzJykuU3RydWN0dXJlZENsb25lVmFsdWUsXG4gKiAgIGJyaW5nSW50b0ZvY3VzPzogYm9vbGVhbixcbiAqICAgYXZvaWRSZXBvcnQ/OiBib29sZWFuXG4gKiB9KSA9PiB2b2lkfSBTZXRUeXBlXG4gKi9cblxuLyoqXG4gKiBAdHlwZWRlZiB7KGluZm86IHtcbiAqICAgdHlwZTogc3RyaW5nLFxuICogICBlZGl0VUk6IEVsZW1lbnQsXG4gKiAgIHNwZWNpZmljU2NoZW1hPzogaW1wb3J0KCd6b2RleCcpLlN6VHlwZVxuICogfSkgPT4gdm9pZH0gQWRkVHlwZUFuZEVkaXRVSVxuICovXG5cbi8qKlxuICogQHR5cGVkZWYgeyhpbmZvPzoge1xuICogICBiYXNlVmFsdWU/OiBpbXBvcnQoJy4vZm9ybWF0cy5qcycpLlN0cnVjdHVyZWRDbG9uZVZhbHVlLFxuICogICBicmluZ0ludG9Gb2N1cz86IGJvb2xlYW4sXG4gKiAgIHNjaGVtYU9iamVjdD86IGltcG9ydCgnLi9mb3JtYXRBbmRUeXBlQ2hvaWNlcy5qcycpLlpvZGV4U2NoZW1hLFxuICogICBhdm9pZFJlcG9ydD86IGJvb2xlYW5cbiAqIH0pID0+IHZvaWR9IEFkZEFuZFZhbGlkYXRlRWRpdFVJXG4gKi9cblxuLyoqXG4gKiBAdHlwZWRlZiB7KCkgPT4gdm9pZH0gU2V0U3R5bGVzXG4gKi9cblxuLyoqXG4gKiBAdHlwZWRlZiB7SFRNTEVsZW1lbnQgJiB7XG4gKiAgICRhZGRBbmRWYWxpZGF0ZUVkaXRVSTogQWRkQW5kVmFsaWRhdGVFZGl0VUksXG4gKiAgICRzZXRTdHlsZXM6IFNldFN0eWxlc1xuICogfX0gVHlwZUNob2ljZXNFbGVtZW50QVBJXG4gKi9cblxuLyoqXG4gKiBAY2FsbGJhY2sgR2V0VmFsdWVcbiAqIEBwYXJhbSB7aW1wb3J0KCcuL3R5cGVzLmpzJykuU3RhdGVPYmplY3R9IFtzdGF0ZU9ial0gV2lsbFxuICogICBhdXRvLXNldCBgdHlwZU5hbWVzcGFjZWAgYW5kIGBmb3JtYXRgXG4gKiBAcGFyYW0ge3N0cmluZ30gW2N1cnJlbnRQYXRoXVxuICogQHJldHVybnMge2ltcG9ydCgnLi9mb3JtYXRzLmpzJykuU3RydWN0dXJlZENsb25lVmFsdWV9XG4gKi9cblxuLyoqXG4gKiBAY2FsbGJhY2sgR2V0VHlwZVxuICogQHJldHVybnMge3N0cmluZ31cbiAqL1xuXG4vKipcbiAqIEBjYWxsYmFjayBWYWxpZFZhbHVlc1NldFxuICogQHJldHVybnMge2Jvb2xlYW59XG4gKi9cblxuLyoqXG4gKiBAY2FsbGJhY2sgU2V0VmFsdWVcbiAqIEBwYXJhbSB7aW1wb3J0KCcuL2Zvcm1hdHMuanMnKS5TdHJ1Y3R1cmVkQ2xvbmVWYWx1ZX0gdmFsdWVcbiAqIEBwYXJhbSB7aW1wb3J0KCcuL3R5cGVzLmpzJykuU3RhdGVPYmplY3R9IHN0YXRlT2JqXG4gKiBAcmV0dXJucyB7UHJvbWlzZTx2b2lkPn1cbiAqL1xuXG4vKipcbiAqIEBjYWxsYmFjayBCdWlsZFR5cGVDaG9pY2VzXG4gKiBAcGFyYW0ge3tcbiAqICAgYXV0b1RyaWdnZXI/OiBib29sZWFuLFxuICogICBmb3JtYXQ6IGltcG9ydCgnLi9mb3JtYXRzLmpzJykuQXZhaWxhYmxlRm9ybWF0LFxuICogICB0eXBlTmFtZXNwYWNlPzogc3RyaW5nLFxuICogICB2YWx1ZT86IGltcG9ydCgnLi9mb3JtYXRzLmpzJykuU3RydWN0dXJlZENsb25lVmFsdWUsXG4gKiAgIHNldFZhbHVlPzogYm9vbGVhbixcbiAqICAgc3RhdGU/OiBzdHJpbmcsXG4gKiAgIGZvcmNlZFN0YXRlPzogc3RyaW5nLFxuICogICBrZXlTZWxlY3RDbGFzcz86IHN0cmluZyxcbiAqICAgcmVxdWlyZU9iamVjdD86IGJvb2xlYW4sXG4gKiAgIG9iamVjdEhhc1ZhbHVlPzogYm9vbGVhbixcbiAqICAgdG9wUm9vdD86IGltcG9ydCgnLi90eXBlcy5qcycpLlJvb3RFbGVtZW50LFxuICogICBmb3JtYXRzPzogaW1wb3J0KCcuL2Zvcm1hdHMuanMnKS5kZWZhdWx0XG4gKiAgIHR5cGVzPzogaW1wb3J0KCcuL3R5cGVzLmpzJykuZGVmYXVsdFxuICogICBzY2hlbWE/OiBzdHJpbmcsXG4gKiAgIHNjaGVtYUlkeD86IG51bWJlcixcbiAqICAgc2NoZW1hT3JpZ2luYWw/OiBpbXBvcnQoJy4vZm9ybWF0QW5kVHlwZUNob2ljZXMuanMnKS5ab2RleFNjaGVtYSxcbiAqICAgc2NoZW1hQ29udGVudD86IGltcG9ydCgnLi9mb3JtYXRBbmRUeXBlQ2hvaWNlcy5qcycpLlpvZGV4U2NoZW1hLFxuICogfX0gY2ZnXG4gKiBAcmV0dXJucyB7e1xuICogICBkb21BcnJheTogW3NlbGVjdDogSFRNTEVsZW1lbnQsIHR5cGVDb250YWluZXI6IEhUTUxFbGVtZW50XSxcbiAqICAgZ2V0VmFsdWU6IEdldFZhbHVlLFxuICogICBnZXRUeXBlOiBHZXRUeXBlLFxuICogICB2YWxpZFZhbHVlc1NldDogVmFsaWRWYWx1ZXNTZXQsXG4gKiAgIHNldFZhbHVlOiBTZXRWYWx1ZVxuICogfX1cbiAqL1xuXG4vKipcbiAqIEB0eXBlIHtCdWlsZFR5cGVDaG9pY2VzfVxuICovXG5leHBvcnQgY29uc3QgYnVpbGRUeXBlQ2hvaWNlcyA9ICh7XG4gIGF1dG9UcmlnZ2VyID0gdHJ1ZSxcbiAgZm9ybWF0LFxuICB0eXBlTmFtZXNwYWNlLFxuICB2YWx1ZSxcbiAgc2V0VmFsdWUgPSBmYWxzZSxcbiAgc3RhdGUsXG4gIC8vIGl0ZW1JbmRleCA9IDAsXG4gIGtleVNlbGVjdENsYXNzLFxuICByZXF1aXJlT2JqZWN0LFxuICBvYmplY3RIYXNWYWx1ZSxcbiAgdG9wUm9vdCxcbiAgZm9ybWF0cyA9IG5ldyBGb3JtYXRzKCksXG4gIHR5cGVzID0gbmV3IFR5cGVzKCksXG4gIHNjaGVtYSxcbiAgc2NoZW1hSWR4LFxuICBzY2hlbWFPcmlnaW5hbCxcbiAgc2NoZW1hQ29udGVudFxufSkgPT4ge1xuICAvLyBjb25zb2xlLmxvZygnZm9ybWF0JywgZm9ybWF0LCAnc3RhdGUnLCBzdGF0ZSwgJ3BhdGgnLCB0eXBlTmFtZXNwYWNlKTtcbiAgY29uc3QgdHlwZUFuZFNjaGVtYUluZm8gPSByZXF1aXJlT2JqZWN0XG4gICAgPyB7XG4gICAgICB0eXBlT3B0aW9uczogW3R5cGVzLmdldE9wdGlvbkZvclR5cGUoJ29iamVjdCcpXSwgc2NoZW1hT2JqZWN0czogdW5kZWZpbmVkXG4gICAgfVxuICAgIDogdHlwZXMuZ2V0VHlwZU9wdGlvbnNGb3JGb3JtYXRBbmRTdGF0ZShcbiAgICAgIGZvcm1hdCwgc3RhdGUsIHNjaGVtYUNvbnRlbnQsIHNjaGVtYU9yaWdpbmFsXG4gICAgKTtcbiAgY29uc3Qge3R5cGVPcHRpb25zfSA9IHR5cGVBbmRTY2hlbWFJbmZvO1xuICBjb25zdCBzY2hlbWFPYmpzID0gdHlwZUFuZFNjaGVtYUluZm8uc2NoZW1hT2JqZWN0cztcblxuICBsZXQgZWRpdFVJO1xuXG4gIC8qKiBAdHlwZSB7R2V0VmFsdWV9ICovXG4gIGNvbnN0ICRnZXRWYWx1ZSA9IChzdGF0ZU9iaiwgY3VycmVudFBhdGgpID0+IHtcbiAgICBjb25zdCByb290ID0gLyoqIEB0eXBlIHtIVE1MRGl2RWxlbWVudH0gKi8gKFxuICAgICAgJGUodHlwZUNvbnRhaW5lciwgJ2RpdltkYXRhLXR5cGVdJylcbiAgICApO1xuICAgIHJldHVybiB0eXBlcy5nZXRWYWx1ZUZvclJvb3QoXG4gICAgICByb290LFxuICAgICAgLyoqIEB0eXBlIHtpbXBvcnQoJy4vdHlwZXMuanMnKS5TdGF0ZU9iamVjdH0gKi8gKHtcbiAgICAgICAgdHlwZU5hbWVzcGFjZSxcbiAgICAgICAgZm9ybWF0cyxcbiAgICAgICAgZm9ybWF0LFxuICAgICAgICB0eXBlcyxcbiAgICAgICAgLi4uc3RhdGVPYmpcbiAgICAgIH0pLFxuICAgICAgY3VycmVudFBhdGhcbiAgICApO1xuICB9O1xuICBjb25zdCBzZWwgPSAvKiogQHR5cGUge0hUTUxTZWxlY3RFbGVtZW50fSAqLyAoam1sKCdzZWxlY3QnLCB7XG4gICAgaGlkZGVuOiByZXF1aXJlT2JqZWN0IHx8IHR5cGVPcHRpb25zLmxlbmd0aCA9PT0gMSxcbiAgICBjbGFzczogYHR5cGVDaG9pY2VzLSR7dHlwZU5hbWVzcGFjZX0ke2tleVNlbGVjdENsYXNzXG4gICAgICA/ICcgJyArIGtleVNlbGVjdENsYXNzXG4gICAgICA6ICcnXG4gICAgfWAsXG4gICAgLy8gaXM6ICd0eXBlLWNob2ljZXMnLFxuICAgICRjdXN0b206IHtcbiAgICAgICRnZXRWYWx1ZSxcbiAgICAgIC8qKiBAdHlwZSB7U2V0VHlwZX0gKi9cbiAgICAgICRzZXRUeXBlICh7dHlwZSwgYmFzZVZhbHVlLCBicmluZ0ludG9Gb2N1cywgYXZvaWRSZXBvcnR9KSB7XG4gICAgICAgIHRoaXMudmFsdWUgPSB0eXBlO1xuICAgICAgICB0aGlzLiRzZXRTdHlsZXMoKTtcbiAgICAgICAgdGhpcy4kYWRkQW5kVmFsaWRhdGVFZGl0VUkoe2Jhc2VWYWx1ZSwgYnJpbmdJbnRvRm9jdXMsIGF2b2lkUmVwb3J0fSk7XG4gICAgICB9LFxuICAgICAgLyoqXG4gICAgICAgKiBAdHlwZSB7KGluZm86IHtcbiAgICAgICAqICAgdHlwZTogc3RyaW5nLFxuICAgICAgICogICBzcGVjaWZpY1NjaGVtYT86IGltcG9ydCgnem9kZXgnKS5TelR5cGVcbiAgICAgICAqIH0pID0+IHZvaWR9IGNmZ1xuICAgICAgICovXG4gICAgICAkc2V0VHlwZU5vRWRpdFVJICh7dHlwZSwgc3BlY2lmaWNTY2hlbWF9KSB7XG4gICAgICAgIGlmIChzY2hlbWFPYmpzICYmIHNwZWNpZmljU2NoZW1hKSB7XG4gICAgICAgICAgY29uc3QgaWR4ID0gc2NoZW1hT2Jqcy5tYXAoKG9iaikgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KG9iaik7XG4gICAgICAgICAgfSkuaW5kZXhPZihKU09OLnN0cmluZ2lmeShzcGVjaWZpY1NjaGVtYSkpO1xuICAgICAgICAgIHRoaXMuc2VsZWN0ZWRJbmRleCA9IGlkeCArIDE7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGhpcy52YWx1ZSA9IHR5cGU7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy4kc2V0U3R5bGVzKCk7XG4gICAgICB9LFxuXG4gICAgICAvKiogQHR5cGUge1NldFN0eWxlc30gKi9cbiAgICAgICRzZXRTdHlsZXMgKCkge1xuICAgICAgICBjb25zdCB7dmFsdWU6IHR5cGV9ID0gdGhpcztcbiAgICAgICAgdGhpcy5kYXRhc2V0LnR5cGUgPSB0eXBlOyAvLyBVc2VkIGZvciBzdHlsaW5nXG4gICAgICAgIGxldCBhbmNlc3RvckVsID0gdGhpcy5wYXJlbnRFbGVtZW50O1xuICAgICAgICBpZiAoYW5jZXN0b3JFbC5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpICE9PSAnZmllbGRzZXQnKSB7XG4gICAgICAgICAgLy8gR3JhbmRwYXJlbnQgY2hlY2sgYWRkZWQgZm9yIG9wdGlvbmFsIGl0ZW1zIHBsYWNlaG9sZGVyXG4gICAgICAgICAgYW5jZXN0b3JFbCA9IHRoaXMucGFyZW50RWxlbWVudC5wYXJlbnRFbGVtZW50O1xuICAgICAgICB9XG4gICAgICAgIGlmIChhbmNlc3RvckVsLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkgPT09ICdmaWVsZHNldCcpIHtcbiAgICAgICAgICBhbmNlc3RvckVsLmRhdGFzZXQudHlwZSA9IHR5cGU7XG4gICAgICAgICAgRE9NLmZpbHRlckNoaWxkRWxlbWVudHMoYW5jZXN0b3JFbCwgJ2xlZ2VuZCcpLmZvckVhY2goKGxlZ2VuZCkgPT4ge1xuICAgICAgICAgICAgbGVnZW5kLmRhdGFzZXQudHlwZSA9IHR5cGU7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICAkZ2V0VHlwZVJvb3QgKCkge1xuICAgICAgICBjb25zdCBjb250YWluZXIgPSB0aGlzLiRnZXRDb250YWluZXIoKTtcbiAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIGlmIC0tIEhvdyB0byByZXBsaWNhdGU/ICovXG4gICAgICAgIGlmICghY29udGFpbmVyKSB7XG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiAkZShjb250YWluZXIsICdkaXZbZGF0YS10eXBlXScpO1xuICAgICAgfSxcblxuICAgICAgLyoqIEB0eXBlIHtBZGRBbmRWYWxpZGF0ZUVkaXRVSX0gKi9cbiAgICAgICRhZGRBbmRWYWxpZGF0ZUVkaXRVSSAoe1xuICAgICAgICBiYXNlVmFsdWUsIGJyaW5nSW50b0ZvY3VzLCBzY2hlbWFPYmplY3QsIGF2b2lkUmVwb3J0XG4gICAgICB9ID0ge30pIHtcbiAgICAgICAgY29uc3Qge3ZhbHVlOiB0eXBlfSA9IHRoaXM7XG5cbiAgICAgICAgaWYgKCF0eXBlKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGxldCB0b3BSb290ID0gdGhpcy4kZ2V0VG9wUm9vdCgpO1xuXG4gICAgICAgIC8vIFRvZG8gKGxvdyk6IFRyeSB0byBhdm9pZCBuZWVkIGZvciBgYmFzZVZhbHVlYFxuICAgICAgICAvLyAgICAobmVlZGVkIGJ5IGFycmF5Tm9uaW5kZXhLZXlzIGZvciBzZXR0aW5nIGFuIGFycmF5XG4gICAgICAgIC8vICAgIGxlbmd0aCBhbmQgYXZvaWRpbmcgZXJyb3JzKTsgY291bGQgc2V0IGFsbFxuICAgICAgICAvLyAgICB2YWx1ZXMgdGhyb3VnaCBoZXJlP1xuICAgICAgICBlZGl0VUkgPSB0eXBlcy5nZXRVSUZvck1vZGVBbmRUeXBlKHtcbiAgICAgICAgICByZWFkb25seTogZmFsc2UsXG4gICAgICAgICAgdHlwZU5hbWVzcGFjZSxcbiAgICAgICAgICB0eXBlLFxuICAgICAgICAgIGJyaW5nSW50b0ZvY3VzLFxuICAgICAgICAgIGhhc1ZhbHVlOiB0eXBlID09PSAnYXJyYXlOb25pbmRleEtleXMnICYmIGJhc2VWYWx1ZSxcbiAgICAgICAgICB2YWx1ZTogYmFzZVZhbHVlLFxuICAgICAgICAgIGJ1aWxkVHlwZUNob2ljZXMsXG4gICAgICAgICAgZm9ybWF0LFxuICAgICAgICAgIHRvcFJvb3QsXG4gICAgICAgICAgc2NoZW1hQ29udGVudDogc2NoZW1hT3JpZ2luYWwgPz9cbiAgICAgICAgICAgIChzY2hlbWFDb250ZW50Py50eXBlID09PSAndW5pb24nICYmIHNjaGVtYUlkeCAhPT0gdW5kZWZpbmVkXG4gICAgICAgICAgICAgID8gc2NoZW1hQ29udGVudC5vcHRpb25zW3NjaGVtYUlkeF1cbiAgICAgICAgICAgICAgOiBzY2hlbWFDb250ZW50KSxcbiAgICAgICAgICAvLyBBZGRlZCBgc2NoZW1hQ29udGVudGAgYXMgaW5uZXIgYXJyYXlzIHdlcmUgbm90IGdldHRpbmcgdGhlaXJcbiAgICAgICAgICAvLyAgIHNjaGVtYSBpbmZvOyB0aGlzIGFwcGFyZW50bHkgYWxsb3dzIChhY3R1YWxseSByZXF1aXJlcylcbiAgICAgICAgICAvLyAgIGNvbW1lbnRpbmcgb3V0IHRoZSBhdXRvLWFkZGluZyBvZiBvYmplY3QgY29udGVudCBhdCBlbmQgb2ZcbiAgICAgICAgICAvLyAgIGVkaXRVSSBpbiBhcnJheVR5cGUuanM7IHdlIGFkZCBgc2NoZW1hRmFsbGluZ0JhY2tgIHRvXG4gICAgICAgICAgLy8gICBkaXN0aW5ndWlzaFxuICAgICAgICAgIHNwZWNpZmljU2NoZW1hT2JqZWN0OiBzY2hlbWFPYmplY3QgPz9cbiAgICAgICAgICAgIChzY2hlbWFDb250ZW50Py50eXBlID09PSAndW5pb24nICYmIHNjaGVtYUlkeCAhPT0gdW5kZWZpbmVkXG4gICAgICAgICAgICAgID8gc2NoZW1hQ29udGVudC5vcHRpb25zW3NjaGVtYUlkeF1cbiAgICAgICAgICAgICAgOiBzY2hlbWFDb250ZW50KSxcbiAgICAgICAgICBzY2hlbWFGYWxsaW5nQmFjazogQm9vbGVhbighc2NoZW1hT2JqZWN0ICYmIHNjaGVtYUNvbnRlbnQpXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLiRhZGRFZGl0VUkoe2VkaXRVSX0pO1xuICAgICAgICB0aGlzLiR2YWxpZGF0ZSh7XG4gICAgICAgICAgYXZvaWRSZXBvcnRcbiAgICAgICAgfSk7XG4gICAgICAgIHRvcFJvb3QgPSB0aGlzLiRnZXRUb3BSb290KCk7IC8vIE1heSBiZSBleGlzdGluZyBub3dcbiAgICAgICAgLy8gTmVlZGVkOyBBcnJheS9vYmplY3QgcmVmIHNvbWV3aGVyZSBjb3VsZCBub3cgYmUgdmFsaWQgb3IgaW52YWxpZFxuICAgICAgICB0eXBlcy52YWxpZGF0ZUFsbFJlZmVyZW5jZXMoe3RvcFJvb3R9KTtcbiAgICAgIH0sXG5cbiAgICAgIC8qKiBAdHlwZSB7QWRkVHlwZUFuZEVkaXRVSX0gKi9cbiAgICAgICRhZGRUeXBlQW5kRWRpdFVJICh7dHlwZSwgZWRpdFVJLCBzcGVjaWZpY1NjaGVtYX0pIHtcbiAgICAgICAgdGhpcy4kc2V0VHlwZU5vRWRpdFVJKHt0eXBlLCBzcGVjaWZpY1NjaGVtYX0pO1xuICAgICAgICB0aGlzLiRhZGRFZGl0VUkoe2VkaXRVSX0pO1xuICAgICAgfSxcbiAgICAgIC8qKlxuICAgICAgICogQHR5cGUgeyhpbmZvOiB7ZWRpdFVJOiBIVE1MRWxlbWVudH0pID0+IHZvaWR9XG4gICAgICAgKi9cbiAgICAgICRhZGRFZGl0VUkgKHtlZGl0VUl9KSB7XG4gICAgICAgIGNvbnN0IGNvbnRhaW5lciA9IHRoaXMuJGdldENvbnRhaW5lcigpO1xuICAgICAgICBET00ucmVtb3ZlQ2hpbGRyZW4oY29udGFpbmVyKTtcbiAgICAgICAgam1sKGVkaXRVSSwgY29udGFpbmVyKTtcbiAgICAgIH0sXG4gICAgICAkZ2V0Q29udGFpbmVyICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubmV4dEVsZW1lbnRTaWJsaW5nO1xuICAgICAgfSxcbiAgICAgICRnZXRUb3BSb290ICgpIHtcbiAgICAgICAgcmV0dXJuIHRvcFJvb3QgfHwgdGhpcy4kZ2V0VHlwZVJvb3QoKTtcbiAgICAgIH0sXG4gICAgICAvKipcbiAgICAgICAqIEBwYXJhbSB7e2F2b2lkUmVwb3J0PzogYm9vbGVhbn19IGNmZ1xuICAgICAgICogQHJldHVybnMge2Jvb2xlYW59XG4gICAgICAgKi9cbiAgICAgICR2YWxpZGF0ZSAoe2F2b2lkUmVwb3J0fSA9IHt9KSB7XG4gICAgICAgIGNvbnN0IHt2YWx1ZTogdHlwZX0gPSB0aGlzO1xuICAgICAgICBjb25zdCBjb250YWluZXIgPSB0aGlzLiRnZXRDb250YWluZXIoKTtcbiAgICAgICAgaWYgKCFjb250YWluZXIuZmlyc3RFbGVtZW50Q2hpbGQpIHtcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgZWRpdFVJID0gY29udGFpbmVyLmZpcnN0RWxlbWVudENoaWxkO1xuICAgICAgICByZXR1cm4gdHlwZXMudmFsaWRhdGUoe1xuICAgICAgICAgIHR5cGUsIHJvb3Q6IGVkaXRVSSwgdG9wUm9vdDogdGhpcy4kZ2V0VG9wUm9vdCgpLFxuICAgICAgICAgIGF2b2lkUmVwb3J0XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0sXG4gICAgJG9uOiB7Y2hhbmdlIChlKSB7XG4gICAgICAvLyBXZSBkb24ndCB3YW50IGZvcm0gYG9uY2hhbmdlYCB0byBydW4gYCRjaGVja0ZvcktleUR1cGxpY2F0ZXNgXG4gICAgICAvLyAgIGFnYWluICh0aHJvdWdoIGBhZGRBbmRWYWxpZGF0ZUVkaXRVSWAtPmB2YWxpZGF0ZUFsbFJlZmVyZW5jZXNgKVxuICAgICAgZT8uc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAvKiogQHR5cGUge1R5cGVDaG9pY2VzRWxlbWVudEFQSX0gKi8gKHRoaXMpLiRhZGRBbmRWYWxpZGF0ZUVkaXRVSSh7XG4gICAgICAgIHNjaGVtYU9iamVjdDogc2NoZW1hT2Jqc1xuICAgICAgICAgID8gc2NoZW1hT2Jqc1tOdW1iZXIoXG4gICAgICAgICAgICAvKiogQHR5cGUge0hUTUxTZWxlY3RFbGVtZW50fSAqL1xuICAgICAgICAgICAgKGUudGFyZ2V0KS5zZWxlY3RlZE9wdGlvbnNbMF0uZGF0YXNldC5pZHhcbiAgICAgICAgICApXVxuICAgICAgICAgIDogdW5kZWZpbmVkXG4gICAgICB9KTtcbiAgICAgIC8qKiBAdHlwZSB7VHlwZUNob2ljZXNFbGVtZW50QVBJfSAqLyAodGhpcykuJHNldFN0eWxlcygpO1xuICAgIH19XG4gIH0sIFtcbiAgICBbJ29wdGlvbicsIHt2YWx1ZTogJyd9LCBbXG4gICAgICAnKENob29zZSBhIHR5cGUpJ1xuICAgIF1dLFxuXG4gICAgLy8gQHRzLWV4cGVjdC1lcnJvciBBcHBhcmVudCBUUyBidWdcbiAgICAuLi50eXBlT3B0aW9ucy5tYXAoXG4gICAgICAoW29wdFRleHQsIG9wdEF0dHNdLCBpZHgpID0+IHtcbiAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICAnb3B0aW9uJyxcbiAgICAgICAgICB7XG4gICAgICAgICAgICAuLi5vcHRBdHRzLFxuICAgICAgICAgICAgZGF0YXNldDogc2NoZW1hT2JqcyA/IHtpZHh9IDoge31cbiAgICAgICAgICB9LFxuICAgICAgICAgIFtvcHRUZXh0XVxuICAgICAgICBdO1xuICAgICAgfVxuICAgIClcbiAgXSkpO1xuICBpZiAoYXV0b1RyaWdnZXIgJiYgdHlwZU9wdGlvbnMubGVuZ3RoID09PSAxICYmICFzZXRWYWx1ZSkge1xuICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgc2VsLnNlbGVjdGVkSW5kZXggPSAxO1xuICAgICAgc2VsLmRpc3BhdGNoRXZlbnQobmV3IEV2ZW50KCdjaGFuZ2UnKSk7XG4gICAgfSk7XG4gIH0gZWxzZSBpZiAoc2V0VmFsdWUgfHwgKHJlcXVpcmVPYmplY3QgJiYgIW9iamVjdEhhc1ZhbHVlKSkge1xuICAgIHNldFRpbWVvdXQoYXN5bmMgKCkgPT4ge1xuICAgICAgaWYgKCFzZXRWYWx1ZSkgeyAvLyBpZiAocmVxdWlyZU9iamVjdCAmJiAhb2JqZWN0SGFzVmFsdWUpIHtcbiAgICAgICAgLy8gVG9kbyAobG93KTogV2UgY291bGQgYXV0by1wb3B1bGF0ZSBrZXlwYXRoIGlmIGhhc1xuICAgICAgICAvLyAgIGtleXBhdGggKGFuZCB3ZSBwcm9iYWJseSBhbHNvIG9ubHkgd2FudCBpZlxuICAgICAgICAvLyAgIG5vdCBhdXRvaW5jcmVtZW50KVxuICAgICAgICB2YWx1ZSA9IHt9O1xuICAgICAgfVxuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3Qge1xuICAgICAgICAgIHJvb3RVSTogcm9vdEVkaXRVSSxcbiAgICAgICAgICBzcGVjaWZpY1NjaGVtYXNcbiAgICAgICAgfSA9IGF3YWl0IGZvcm1hdHMuZ2V0Q29udHJvbHNGb3JGb3JtYXRBbmRWYWx1ZShcbiAgICAgICAgICB0eXBlcyxcbiAgICAgICAgICBmb3JtYXQsXG4gICAgICAgICAgdmFsdWUsXG4gICAgICAgICAge1xuICAgICAgICAgICAgcmVhZG9ubHk6IGZhbHNlLFxuICAgICAgICAgICAgdHlwZU5hbWVzcGFjZSxcbiAgICAgICAgICAgIHNjaGVtYSxcbiAgICAgICAgICAgIHNjaGVtYUNvbnRlbnQsXG4gICAgICAgICAgICBmb3JtYXRzLFxuICAgICAgICAgICAgdHlwZXNcbiAgICAgICAgICB9XG4gICAgICAgICk7XG4gICAgICAgIGNvbnN0IHR5cGUgPVxuICAgICAgICAgIFR5cGVzLmdldFR5cGVGb3JSb290KC8qKiBAdHlwZSB7SFRNTERpdkVsZW1lbnR9ICovIChcbiAgICAgICAgICAgIHJvb3RFZGl0VUlcbiAgICAgICAgICApKTtcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEBzdHlsaXN0aWMvbWF4LWxlbiAtLSBMb25nXG4gICAgICAgIC8qKiBAdHlwZSB7SFRNTFNlbGVjdEVsZW1lbnQgJiB7JGFkZFR5cGVBbmRFZGl0VUk6IEFkZFR5cGVBbmRFZGl0VUl9fSAqLyAoXG4gICAgICAgICAgc2VsXG4gICAgICAgICkuJGFkZFR5cGVBbmRFZGl0VUkoe1xuICAgICAgICAgIHR5cGUsIGVkaXRVSTogcm9vdEVkaXRVSSxcbiAgICAgICAgICAvLyBXZSBkbyBhY3R1YWxseSB3YW50IHRoZSBmaXJzdCBvbmVcbiAgICAgICAgICBzcGVjaWZpY1NjaGVtYTogc3BlY2lmaWNTY2hlbWFzPy5bMF1cbiAgICAgICAgfSk7XG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgLS0gQXQgbGVhc3Qgc29tZSBlcnJvcnMgaGFuZGxlZCBlYXJsaWVyICovXG4gICAgICAgIGRpYWxvZ3MuYWxlcnQoe1xuICAgICAgICAgIG1lc3NhZ2U6ICdUaGUgb2JqZWN0IHRvIGJlIGFkZGVkIGhhZCB0eXBlcyBub3Qgc3VwcG9ydGVkICcgK1xuICAgICAgICAgICAgJ2J5IHRoZSBjdXJyZW50IGZvcm1hdC4nXG4gICAgICAgIH0pO1xuICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAtLSBIb3cgdG8gdHJpZ2dlcj8gKi9cbiAgICAgICAgY29uc29sZS5sb2coJ2VycicsIGVycik7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICBjb25zdCB0eXBlQ29udGFpbmVyID0gam1sKCdkaXYnLCB7Y2xhc3M6ICd0eXBlQ29udGFpbmVyJ30pO1xuXG4gIHJldHVybiB7XG4gICAgZG9tQXJyYXk6IFtcbiAgICAgIHNlbCxcbiAgICAgIHR5cGVDb250YWluZXJcbiAgICBdLFxuXG4gICAgLyoqIEB0eXBlIHtHZXRWYWx1ZX0gKi9cbiAgICBnZXRWYWx1ZTogJGdldFZhbHVlLFxuXG4gICAgLyoqIEB0eXBlIHtHZXRUeXBlfSAqL1xuICAgIGdldFR5cGUgKCkge1xuICAgICAgY29uc3Qgcm9vdCA9IC8qKiBAdHlwZSB7SFRNTERpdkVsZW1lbnR9ICovIChcbiAgICAgICAgJGUodHlwZUNvbnRhaW5lciwgJ2RpdltkYXRhLXR5cGVdJylcbiAgICAgICk7XG4gICAgICByZXR1cm4gVHlwZXMuZ2V0VHlwZUZvclJvb3Qocm9vdCk7XG4gICAgfSxcblxuICAgIC8qKiBAdHlwZSB7VmFsaWRWYWx1ZXNTZXR9ICovXG4gICAgdmFsaWRWYWx1ZXNTZXQgKCkge1xuICAgICAgY29uc3Qgcm9vdCA9IC8qKiBAdHlwZSB7SFRNTERpdkVsZW1lbnR9ICovIChcbiAgICAgICAgJGUodHlwZUNvbnRhaW5lciwgJ2RpdltkYXRhLXR5cGVdJylcbiAgICAgICk7XG4gICAgICBjb25zdCBmb3JtID0gLyoqIEB0eXBlIHtIVE1MRm9ybUVsZW1lbnR9ICovIChyb290LmNsb3Nlc3QoJ2Zvcm0nKSk7XG4gICAgICByZXR1cm4gVHlwZXMudmFsaWRWYWx1ZXNTZXQoe2Zvcm0sIHR5cGVOYW1lc3BhY2V9KTtcbiAgICB9LFxuXG4gICAgLyoqIEB0eXBlIHtTZXRWYWx1ZX0gKi9cbiAgICBhc3luYyBzZXRWYWx1ZSAodmFsdWUsIHN0YXRlT2JqKSB7XG4gICAgICBjb25zdCByb290RWRpdFVJID0gLyoqIEB0eXBlIHtIVE1MRGl2RWxlbWVudH0gKi8gKFxuICAgICAgICAoYXdhaXQgZm9ybWF0cy5nZXRDb250cm9sc0ZvckZvcm1hdEFuZFZhbHVlKFxuICAgICAgICAgIHR5cGVzLFxuICAgICAgICAgIGZvcm1hdCwgdmFsdWUsIHN0YXRlT2JqXG4gICAgICAgICkpLnJvb3RVSVxuICAgICAgKTtcbiAgICAgIGNvbnN0IHR5cGUgPSBUeXBlcy5nZXRUeXBlRm9yUm9vdChyb290RWRpdFVJKTtcbiAgICAgIC8qKiBAdHlwZSB7SFRNTFNlbGVjdEVsZW1lbnQgJiB7JGFkZFR5cGVBbmRFZGl0VUk6IEFkZFR5cGVBbmRFZGl0VUl9fSAqLyAoXG4gICAgICAgIHNlbFxuICAgICAgKS4kYWRkVHlwZUFuZEVkaXRVSSh7dHlwZSwgZWRpdFVJOiByb290RWRpdFVJfSk7XG4gICAgfVxuICB9O1xufTtcbiJdLCJtYXBwaW5ncyI6Iis2ZUFlWTtBQUFBQSxhQUFBLFNBQUFBLENBQUEsU0FBQUMsY0FBQSxXQUFBQSxjQUFBLEVBQUFELGFBQUEs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